(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,a){e.exports=a(463)},331:function(e,t,a){},463:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(41),o=a.n(s),i=a(3),l=a(4),u=a(6),p=a(5),m=a(7),d=a(12),f=a(2),h=a(1),E=a.n(h),b=a(8),w=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_ENDPOINT,v=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/settings/allow-external-sharing",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({value:a})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/link/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/invite/"+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/invite/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/account/emailupdate/"+t.email,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/account/nameupdate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/account/delete",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/logout",{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/account/workspaces",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/delete",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/account/app",{method:"GET",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/verify/"+t,{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/account/resend",{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/reset/"+t,{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/setpassword",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/members",{method:"GET",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/leave",{method:"POST",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/members/"+a+"/level",{method:"POST",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({level:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/members/"+a,{method:"DELETE",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/invites",{method:"GET",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/invites",{method:"POST",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:a,level:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/invites/"+a,{method:"DELETE",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/invites/"+a+"/resend",{method:"POST",headers:{Workspace:t,"Content-Type":"application/json"},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/projects",{method:"GET",headers:{Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/projects/"+a,{method:"GET",headers:{Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/projects/"+a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({title:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/projects/"+a+"/rename",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({title:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/projects/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/projects/"+a+"/description",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({description:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n,r){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({projectId:a,title:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a+"/move",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({index:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a+"/rename",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({title:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a+"/description",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({description:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a+"/open",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a+"/close",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/milestones/"+a+"/color",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({color:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n,r,c){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({milestoneId:a,subWorkflowId:n,title:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n,r,c){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a+"/move",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({toSubWorkflowId:n,toMilestoneId:r,index:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a+"/open",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a+"/close",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a+"/rename",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({title:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a+"/description",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({description:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/features/"+a+"/color",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({color:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n,r){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/workflows/"+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({projectId:a,title:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),de=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/workflows/"+a+"/move",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({index:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/workflows/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/workflows/"+a+"/rename",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({title:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/workflows/"+a+"/description",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({description:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/workflows/"+a+"/color",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({color:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n,r){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/subworkflows/"+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({workflowId:a,title:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n,r){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/subworkflows/"+a+"/move",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({toWorkflowId:n,index:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(b.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/subworkflows/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/subworkflows/"+a+"/rename",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({title:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/subworkflows/"+a+"/description",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({description:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(b.a)(E.a.mark(function e(t,a,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/subworkflows/"+a+"/color",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Workspace:t},credentials:"include",body:JSON.stringify({color:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/users/contact",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ge=a(11),Ne=function(e){return c.a.createElement("button",{type:e.submit?"submit":"button",onClick:e.handleOnClick},c.a.createElement("div",{className:" flex flex-no-shrink whitespace-no-wrap    font-medium items-center "+(e.small?" p-1 ":" p-2 ")+(!e.noborder&&" border ")+(!e.primary&&" text-black  ")+(e.primary&&" text-white bg-green-400  border-green-400 ")+(e.secondary&&" bg-gray-200  border-gray-200 ")+(e.warning&&" border-red-500 text-red-500 font-semibold")},e.icon&&c.a.createElement("div",{className:"flex"},c.a.createElement("i",{style:{fontSize:"18px"},className:"material-icons "+(e.iconColor?e.iconColor:"")}," ",e.icon)),c.a.createElement("div",{className:"flex ml-1 "},e.title)))},Se=function(e){return c.a.createElement("div",{className:"p-3 m-2 max-w-2xl bg-white rounded shadow"},e.title&&c.a.createElement("h4",null,e.title),c.a.createElement("div",{className:"text-sm pt-1"},e.children))},Ie=d.object().shape({email:d.string().email("Email invalid.").required("Email required."),password:d.string().min(6,"Password minimum 6 characters.").max(200,"Password maximum 200 characters.").required("Password required.")}),Te=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.history;return c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col  "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h1",{className:"text-3xl font-medium"},"Log in to Featmap"))),c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},"Enter your ",c.a.createElement("b",null,"email adress")," and ",c.a.createElement("b",null,"password"),".")),c.a.createElement("div",null,c.a.createElement(f.c,{initialValues:{email:"",password:""},initialStatus:"",validationSchema:Ie,onSubmit:function(t,a){a.setStatus(""),j(t).then(function(t){t.ok?t.json().then(function(t){e.push("/")}):a.setStatus("Email or password is incorrect.")}),a.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},e.status),c.a.createElement(f.a,{name:"email",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},t,{placeholder:"Email",id:"email",className:"rounded p-2 border w-64 text-lg\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.email&&a.errors.email)))}}),c.a.createElement(f.a,{name:"password",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"password"},t,{placeholder:"Password",id:"password",className:"rounded p-2 border w-64 text-lg\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.password&&a.errors.password)))}}),c.a.createElement("div",{className:"flex flex-row  items-baseline justify-center"},c.a.createElement("div",{className:"  justify-center"},c.a.createElement(Ne,{primary:!0,submit:!0,title:"Log in"}))))}})),c.a.createElement("div",{className:"flex  p-2 flex-col "},c.a.createElement("div",{className:"p-1 text-center"},"Not a member? ",c.a.createElement(ge.a,{className:"link",to:"/account/signup"},"Create an account")),c.a.createElement("div",{className:"p-1 text-center "},"Forgotten your password? ",c.a.createElement(ge.a,{className:"link",to:"/account/reset"},"Reset password ")))))}}]),t}(r.Component),We=d.object().shape({workspaceName:d.string().matches(/^[a-z0-9]+$/,"Lowercase alphanumerics only. Spaces not allowed.").min(2,"Minimum 2 characters.").max(200,"Maximum 200 characters.").required("Required."),name:d.string().min(1,"Minimum 1 characters.").max(200,"Maximum 200 characters.").required("Required."),email:d.string().email("Invalid email adress.").required("Required."),password:d.string().min(6,"Minimum 6 characters.").max(200,"Maximum 200 characters.").required("Required.")}),Ce=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.history;return c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col  "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h1",{className:"text-3xl font-medium"},"Create a Featmap account"))),c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},"Enter the name of your ",c.a.createElement("b",null,"workspace"),",  ",c.a.createElement("b",null,"work email adress")," and ",c.a.createElement("b",null,"password"),".")),c.a.createElement("div",{className:"flex max-w-xs"},c.a.createElement(f.c,{initialValues:{workspaceName:"",name:"",email:"",password:""},validationSchema:We,onSubmit:function(t,a){y(t).then(function(t){t.ok?t.json().then(function(t){e.push("/")}):t.json().then(function(e){switch(e.message){case"email_invalid":a.setFieldError("email","Email is invalid.");break;case"workspace_invalid":a.setFieldError("workspaceName","Workspace is invalid.");break;case"name_invalid":a.setFieldError("name","Name is invalid.");break;case"password_invalid":a.setFieldError("password","Password is invalid.");break;case"email_taken":a.setFieldError("email","Email is already registered.");break;case"workspace_taken":a.setFieldError("workspaceName","Workspace name is already registrered.")}})}),a.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement(f.a,{name:"workspaceName",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-col    items-baseline sm:flex-row"},c.a.createElement("div",{className:"text-lg font-bold p-1 whitespace-no-wrap text-right "},"featmap.com /"),c.a.createElement("div",{className:" flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},t,{placeholder:"workspace name",id:"workspaceName",className:"rounded p-2 border w-full text-lg\t"}))),c.a.createElement("div",{className:"m-1 text-red-500 text-xs font-bold"},a.touched.workspaceName&&a.errors.workspaceName&&a.errors.workspaceName)))}}),c.a.createElement(f.a,{name:"name",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:" flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},t,{placeholder:"Name, e.g. John Smith",id:"name",className:" w-full rounded p-2 border  text-lg\t"}))),c.a.createElement("div",{className:"m-1 text-red-500 text-xs font-bold"},a.touched.name&&a.errors.name&&a.errors.name)))}}),c.a.createElement(f.a,{name:"email",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},t,{placeholder:"Work email",id:"email",className:"rounded p-2 border w-full text-lg\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.email&&a.errors.email&&a.errors.email)))}}),c.a.createElement(f.a,{name:"password",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"password"},t,{placeholder:"Password",id:"password",className:"rounded p-2 border w-full text-lg\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.password&&a.errors.password&&a.errors.password)))}}),c.a.createElement("div",{className:"flex justify-center"},c.a.createElement(Ne,{submit:!0,primary:!0,title:"Create account"})))}})),c.a.createElement("div",{className:"flex  p-2 flex-col "},c.a.createElement("div",{className:"p-1 text-center"},"Already have an account? ",c.a.createElement(ge.a,{className:"link",to:"/account/login"},"Login")))))}}]),t}(r.Component),Me=a(13),Ae=a(25);!function(e){e.LOAD_APPLICATION="LOAD_APPLICATION",e.RESET_APPLICATION="RESET_APPLICATION",e.CREATE_MESSAGE="CREATE_MESSAGE",e.DELETE_MESSAGE="DELETE_MESSAGE"}(n||(n={}));var Re,Le=function(e){return Object(Me.action)(n.LOAD_APPLICATION,e)},De=function(e){return Object(Me.action)(n.DELETE_MESSAGE,e)},Pe=function(e){return function(){var t=Object(b.a)(E.a.mark(function t(a,r){var c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(Ae.v4)(),e((s={id:c,type:a,message:r},Object(Me.action)(n.CREATE_MESSAGE,s))),new Promise(function(){setTimeout(function(){e(De(c))},4e3)}).then();case 4:case"end":return t.stop()}var s},t)}));return function(e,a){return t.apply(this,arguments)}}()},Fe=function(e){return Object(b.a)(E.a.mark(function t(){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C().then(function(t){t.ok&&t.json().then(function(t){e(Le(t))})});case 1:case"end":return t.stop()}},t)}))},_e=a(10),Ue={resetApp:function(){return Object(Me.action)(n.RESET_APPLICATION)}},Be=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;I().then(function(t){t.ok&&(e.props.resetApp(),e.props.history.push("/"))})}},{key:"render",value:function(){return c.a.createElement("div",null)}}]),t}(r.Component),Ke=Object(_e.c)(null,Ue)(Be),Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={ok:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;M(this.props.match.params.key).then(function(t){t.ok&&e.setState({ok:!0})})}},{key:"render",value:function(){return this.state.ok?c.a.createElement("div",{className:"p-2"},c.a.createElement("em",null,"Email adress verified!"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ge.a,{className:"link",to:"/"},"Back to Featmap")):"Something went wrong"}}]),t}(r.Component),Je=a(26),qe=(a(331),a(31)),Ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClickOutside=function(){a.state.expand&&a.setState({expand:!1})},a.state={expand:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"relative"},c.a.createElement("div",{className:"flex items-center "},c.a.createElement("button",{onClick:function(){return e.setState(function(e){return{expand:!e.expand}})},className:"flex text-sm p-1 rounded font-semibold "},c.a.createElement("i",{className:"material-icons "+(this.props.night?"text-white":"")},this.props.icon))),c.a.createElement("div",{onClick:function(){return e.setState(function(e){return{expand:!e.expand}})}},this.state.expand?c.a.createElement("div",null,this.props.children):"")))}}]),t}(r.Component),He=Object(qe.a)(Ge),Ye=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("header",{className:"bg-gray-200"},c.a.createElement("div",{className:"flex items-center p-1 "},c.a.createElement("div",{className:"flex text-lg   m-1 w-24 "},c.a.createElement("b",null,c.a.createElement(ge.a,{to:"/"},"Featmap"))),this.props.workspaceName?c.a.createElement("div",{className:"text-sm "},c.a.createElement(ge.a,{to:"/"+this.props.workspaceName},"Projects")):null,c.a.createElement("div",{className:"flex flex-grow justify-end   "},c.a.createElement("div",{className:"flex p-1  rounded items-center "},c.a.createElement(He,{icon:"account_circle"},c.a.createElement("div",{className:"rounded bg-white shadow-md absolute mt-8 top-0 right-0 min-w-full text-sm"},c.a.createElement("ul",{className:"list-reset"},this.props.workspaceName?c.a.createElement("li",{className:"whitespace-no-wrap px-4 py-2 block text-gray-600"},"Current workspace:  ",c.a.createElement("b",null,c.a.createElement(ge.a,{to:"/"+this.props.workspaceName},this.props.workspaceName)," ")," ",c.a.createElement(ge.a,{className:"p-1 flex-no-shrink font-bold rounded text-xs  bg-gray-300",to:"/account/workspaces"},"Change ")):null,this.props.workspaceName?c.a.createElement("li",{className:"whitespace-no-wrap px-4 py-2 block text-black hover:bg-gray-200 "},c.a.createElement(ge.a,{to:"/"+this.props.workspaceName+"/settings"},"Workspace settings")):null,c.a.createElement("li",{className:"whitespace-no-wrap px-4 py-2 block text-black "},c.a.createElement(ge.a,{to:"/account/workspaces"},"My workspaces")),c.a.createElement("li",{className:"whitespace-no-wrap block text-black "},c.a.createElement("hr",{className:"border-b"})),c.a.createElement("li",{className:"whitespace-no-wrap px-4 py-2 block text-gray-600"},"Logged in as ",c.a.createElement("em",null,this.props.account.email)),c.a.createElement("li",null,c.a.createElement(ge.a,{className:"whitespace-no-wrap px-4 py-2 block text-black hover:bg-gray-200",to:"/account/settings"},"Account settings")," "),c.a.createElement("li",null,c.a.createElement(ge.a,{className:"whitespace-no-wrap px-4 py-2 block text-black hover:bg-gray-200",to:"/account/logout"},"Log out")," "))))))))}}]),t}(r.Component),ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={reallySureWarning:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(Ye,{account:this.props.state.application.application.account}),c.a.createElement("div",null,c.a.createElement("h3",{className:"p-2"},"Account settings"),this.props.state.application.application.account.emailConfirmationPending&&c.a.createElement(Se,{title:""},c.a.createElement("span",{className:"text-red-500 text-xl"},"\u2b24")," ",c.a.createElement("em",null,"Email adress verfication missing"),c.a.createElement("hr",null),c.a.createElement("p",null," A mail has been sent to  ",c.a.createElement("i",null,this.props.state.application.application.account.emailConfirmationSentTo),", but we have not yet received verfication. "),c.a.createElement("hr",null),c.a.createElement(f.c,{initialValues:{},initialStatus:"",onSubmit:function(e,t){t.setStatus(""),A().then(function(e){e.ok?t.setStatus("Mail sent."):t.setStatus("Something went wrong.")}),t.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,c.a.createElement(f.a,{name:"email",render:function(t){t.field,t.form;return c.a.createElement("div",null,c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:" w-full text-xs"},c.a.createElement(Ne,{submit:!0,secondary:!0,title:"Resend email"}))),c.a.createElement("div",{className:"p-1 text-xs font-bold"},e.status))}}))}})),c.a.createElement(Se,{title:"Email adress"},c.a.createElement("p",null,"Your email adress is ",this.props.state.application.application.account.email),this.props.state.application.application.account.emailConfirmed?c.a.createElement("p",null,c.a.createElement("span",{className:"text-green-500 text-xl "},"\u2b24")," The email adress is verified.. "):c.a.createElement("p",null,c.a.createElement("span",{className:"text-red-500 text-xl"},"\u2b24")," ",c.a.createElement("em",null,"The email adress is not verified.")," "),c.a.createElement("hr",null),c.a.createElement("div",{className:"flex flex-row items-baseline"},c.a.createElement(f.c,{initialValues:{email:""},initialStatus:"",validationSchema:d.object().shape({email:d.string().email("Invalid email adress.").required("Required.")}),onSubmit:function(e,t){t.setStatus(""),g(e).then(function(e){e.ok?t.setStatus("An email has been sent to your new email with instructions."):t.setStatus("Something went wrong.")}),t.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,c.a.createElement(f.a,{name:"email",render:function(t){var a=t.field,n=t.form;return c.a.createElement("div",{className:" "},c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full mr-1"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},a,{placeholder:"email",id:"email",className:"rounded p-1 border  \t"})))),c.a.createElement("span",{className:"text-xs"},c.a.createElement(Ne,{submit:!0,title:"Change email",secondary:!0,small:!0}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},n.touched.email&&n.errors.email),c.a.createElement("div",{className:"p-1 text-xs font-bold"},e.status))}}))}}))),c.a.createElement(Se,{title:"Name"},c.a.createElement("p",null,"Your name is ",this.props.state.application.application.account.name,". "),c.a.createElement("hr",null),c.a.createElement("div",{className:"flex flex-row items-baseline"},c.a.createElement(f.c,{initialValues:{name:this.props.state.application.application.account.name},initialStatus:"",validationSchema:d.object().shape({name:d.string().min(1,"Minimum 1 characters.").max(200,"Maximum 200 characters.").required("Required.")}),onSubmit:function(e,t){t.setStatus(""),N(e).then(function(e){e.ok?t.setStatus("Names is changed. Refresh your browser for it to take effect."):t.setStatus("Something went wrong.")}),t.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,c.a.createElement(f.a,{name:"name",render:function(t){var a=t.field,n=t.form;return c.a.createElement("div",{className:" "},c.a.createElement("div",{className:"flex  flex-row items-center"},c.a.createElement("div",{className:"flex flex-col w-full mr-1"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},a,{placeholder:"name",id:"name",className:"rounded p-1 border \t"})))),c.a.createElement("div",{className:" text-xs w-full"},c.a.createElement(Ne,{submit:!0,title:"Change name",secondary:!0,small:!0}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},n.touched.name&&n.errors.name),c.a.createElement("div",{className:"p-1 text-xs font-bold"},e.status))}}))}}))),c.a.createElement(Se,{title:"Password"},c.a.createElement("p",null,"To change your password, initiate a ",c.a.createElement(ge.a,{className:"link",to:"/account/reset?email="+this.props.state.application.application.account.email},"password reset"),".")),c.a.createElement(Se,{title:"Delete account"},c.a.createElement("p",null,"By deleting your account, all your workspace memberships will be permanently deleted."),c.a.createElement(f.c,{initialValues:{},onSubmit:function(t,a){S().then(function(t){t.ok?window.location.href="/":t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(t){return c.a.createElement(f.b,null,c.a.createElement("p",{className:"text-xs"},c.a.createElement(Ne,{secondary:!0,button:!0,handleOnClick:function(){return e.setState({reallySureWarning:!0})},title:"Delete account"})," ",e.state.reallySureWarning&&c.a.createElement(Ne,{submit:!0,warning:!0,title:"Yes, I am really sure!"})," "))}}))))}}]),t}(r.Component),Xe=Object(_e.c)(function(e){return{state:e}},function(e){return{newMessage:Pe(e)}})(ze),$e=a(23),Qe=Object($e.a)([function(e){return e.application}],function(e){return e.application}),Ze=function(e,t){return e.workspaces.find(function(e){return e.name===t})},et=function(e,t){return e.memberships.find(function(e){return e.workspaceId===t})},tt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"p-2"},"Page not found")}}]),t}(r.Component),at=a(9),nt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"p-1 w-32 h-16  "})}}]),t}(r.Component);!function(e){e.CREATE_FEATURE="CREATE_FEATURE",e.LOAD_FEATURES="LOAD_FEATURES",e.UPDATE_FEATURE="UPDATE_FEATURE",e.DELETE_FEATURE="DELETE_FEATURE",e.MOVE_FEATURE="MOVE_FEATURE"}(Re||(Re={}));var rt,ct=function(e){return Object(Me.action)(Re.CREATE_FEATURE,e)},st=function(e){return Object(Me.action)(Re.LOAD_FEATURES,e)},ot=function(e){return Object(Me.action)(Re.UPDATE_FEATURE,e)},it=function(e){return Object(Me.action)(Re.DELETE_FEATURE,e)};!function(e){e.CREATE_MILESTONE="CREATE_MILESTONE",e.LOAD_MILESTONES="LOAD_MILESTONE",e.UPDATE_MILESTONE="UPDATE_MILESTONE",e.DELETE_MILESTONE="DELETE_MILESTONE",e.MOVE_MILESTONE="MOVE_MILESTONE"}(rt||(rt={}));var lt,ut=function(e){return Object(Me.action)(rt.CREATE_MILESTONE,e)},pt=function(e){return Object(Me.action)(rt.LOAD_MILESTONES,e)},mt=function(e){return Object(Me.action)(rt.UPDATE_MILESTONE,e)},dt=function(e){return Object(Me.action)(rt.DELETE_MILESTONE,e)};!function(e){e.CREATE_WORKFLOW="CREATE_WORKFLOW",e.LOAD_WORKFLOWS="LOAD_WORKFLOWS",e.UPDATE_WORKFLOW="UPDATE_WORKFLOW",e.DELETE_WORKFLOW="DELETE_WORKFLOW",e.MOVE_WORKFLOW="MOVE_WORKFLOW"}(lt||(lt={}));var ft,ht=function(e){return Object(Me.action)(lt.CREATE_WORKFLOW,e)},Et=function(e){return Object(Me.action)(lt.LOAD_WORKFLOWS,e)},bt=function(e){return Object(Me.action)(lt.UPDATE_WORKFLOW,e)},wt=function(e){return Object(Me.action)(lt.DELETE_WORKFLOW,e)};!function(e){e.CREATE_SUBWORKFLOW="CREATE_SUBWORKFLOW",e.LOAD_SUBWORKFLOWS="LOAD_SUBWORKFLOWS",e.UPDATE_SUBWORKFLOW="UPDATE_SUBWORKFLOW",e.DELETE_SUBWORKFLOW="DELETE_SUBWORKFLOW",e.MOVE_SUBWORKFLOW="MOVE_SUBWORKFLOW"}(ft||(ft={}));var vt,Ot,xt=function(e){return Object(Me.action)(ft.CREATE_SUBWORKFLOW,e)},kt=function(e){return Object(Me.action)(ft.LOAD_SUBWORKFLOWS,e)},yt=function(e){return Object(Me.action)(ft.UPDATE_SUBWORKFLOW,e)},jt=function(e){return Object(Me.action)(ft.DELETE_SUBWORKFLOW,e)},gt=Object($e.a)([function(e){return e.subWorkflows}],function(e){return Nt(e.items)}),Nt=function(e){return e.sort(function(e,t){return e.rank===t.rank?0:+(e.rank>t.rank)||-1})},St=function(e,t){return e.find(function(e){return e.id===t})},It=function(e,t){return e.filter(function(e){return e.workflowId===t})};!function(e){e.VIEWER="VIEWER",e.EDITOR="EDITOR",e.ADMIN="ADMIN",e.OWNER="OWNER"}(vt||(vt={})),function(e){e.TRIAL="TRIAL",e.BASIC="BASIC",e.PRO="PRO"}(Ot||(Ot={}));var Tt,Wt=function(e){return e===vt.EDITOR||e===vt.ADMIN||e===vt.OWNER};!function(e){e.OPEN="OPEN",e.CLOSED="CLOSED"}(Tt||(Tt={}));var Ct,Mt=function(e){switch(e){case"VIEWER":return"Viewer";case"EDITOR":return"Editor";case"ADMIN":return"Admin";case"OWNER":return"Owner";default:return""}};!function(e){e.NONE="",e.WHITE="WHITE",e.GREY="GREY",e.RED="RED",e.ORANGE="ORANGE",e.YELLOW="YELLOW",e.GREEN="GREEN",e.TEAL="TEAL",e.BLUE="BLUE",e.INDIGO="INDIGO",e.PURPLE="PURPLE",e.PINK="PINK"}(Ct||(Ct={}));var At,Rt=new Array(Ct.WHITE,Ct.GREY,Ct.RED,Ct.ORANGE,Ct.YELLOW,Ct.GREEN,Ct.TEAL,Ct.BLUE,Ct.INDIGO,Ct.PURPLE,Ct.PINK),Lt=function(e){switch(e){case Ct.WHITE:return"bg-white";case Ct.GREY:return"bg-gray-500";case Ct.RED:return"bg-red-400";case Ct.ORANGE:return"bg-orange-400";case Ct.YELLOW:return"bg-yellow-500";case Ct.GREEN:return"bg-green-400";case Ct.TEAL:return"bg-teal-400";case Ct.BLUE:return"bg-blue-400";case Ct.INDIGO:return"bg-indigo-400";case Ct.PURPLE:return"bg-purple-400";case Ct.PINK:return"bg-pink-400";case Ct.NONE:default:return"bg-white"}},Dt=function(e){switch(e){case Ct.WHITE:case Ct.GREY:return"border-gray-500";case Ct.RED:return"border-red-400";case Ct.ORANGE:return"border-orange-400";case Ct.YELLOW:return"border-yellow-500";case Ct.GREEN:return"border-green-400";case Ct.TEAL:return"border-teal-400";case Ct.BLUE:return"border-blue-400";case Ct.INDIGO:return"border-indigo-400";case Ct.PURPLE:return"border-purple-400";case Ct.PINK:return"border-pink-400";case Ct.NONE:default:return"border-gray-500"}},Pt=Object($e.a)([function(e){return e.features}],function(e){return Ft(e.items)}),Ft=function(e){return e.sort(function(e,t){return e.rank===t.rank?0:+(e.rank>t.rank)||-1})},_t=function(e,t,a){return e.filter(function(e){return e.milestoneId===t}).filter(function(e){return e.subWorkflowId===a})},Ut=function(e){return e.filter(function(e){return e.status===Tt.CLOSED})},Bt=function(e,t){return e.find(function(e){return e.id===t})},Kt=a(32);!function(e){e.MILESTONE="MILESTONE",e.WORKFLOW="WORKFLOW",e.SUBWORKFLOW="SUBWORKFLOW",e.FEATURE="FEATURE"}(At||(At={}));var Vt,Jt={createWorkflow:ht,updateWorkflow:bt,deleteWorkflow:wt,createMilestone:ut,updateMilestone:mt,deleteMilestone:dt,createSubWorkflow:xt,updateSubWorkflow:yt,deleteSubWorkflow:jt,createFeature:ct,updateFeature:ot,deleteFeature:it},qt=d.object().shape({title:d.string().min(1,"Minimum 1 characters.").max(200,"Maximum 200 characters.").required("Required.")}),Gt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).keydownHandler=function(e){27===e.keyCode&&a.props.close()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler,!1)}},{key:"render",value:function(){var e=this.props,t=function(t){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).handleClickOutside=function(){t.props.close()},t}return Object(m.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"bg-white p-3 w-full  max-w-xs"},c.a.createElement(f.c,{initialValues:{title:""},validationSchema:qt,onSubmit:function(a,n){var r=(new Date).toISOString();switch(e.action.type){case At.WORKFLOW:var c=Object(Ae.v4)(),s={kind:"workflow",id:c,workspaceId:e.workspaceId,projectId:e.projectId,rank:"",title:a.title,description:"",createdAt:r,createdBy:void 0===e.application.account?"":e.application.account.id,createdByName:void 0===e.application.account?"demo":e.application.account.name,lastModified:r,lastModifiedByName:void 0===e.application.account?"demo":e.application.account.name,color:Ct.WHITE};e.createWorkflow(s),e.demo||me(e.workspaceId,e.projectId,c,a.title).then(function(t){t.ok?t.json().then(function(t){e.updateWorkflow(t)}):e.deleteWorkflow(c)}),t.props.close(),n.setSubmitting(!1);break;case At.MILESTONE:var o=Object(Ae.v4)(),i={kind:"milestone",id:o,workspaceId:e.workspaceId,projectId:e.projectId,rank:"",title:a.title,description:"",status:Tt.OPEN,createdAt:r,createdBy:void 0===e.application.account?"":e.application.account.id,createdByName:void 0===e.application.account?"demo":e.application.account.name,lastModified:r,lastModifiedByName:void 0===e.application.account?"demo":e.application.account.name,color:Ct.NONE};e.createMilestone(i),e.demo||X(e.workspaceId,e.projectId,o,a.title).then(function(t){t.ok?t.json().then(function(t){e.updateMilestone(t)}):e.deleteMilestone(o)}),t.props.close(),n.setSubmitting(!1);break;case At.SUBWORKFLOW:var l=Object(Ae.v4)(),u=e.action.payload.workflowId,p={kind:"subworkflow",id:l,workspaceId:e.workspaceId,workflowId:u,rank:"",title:a.title,description:"",createdAt:r,createdBy:void 0===e.application.account?"":e.application.account.id,createdByName:void 0===e.application.account?"demo":e.application.account.name,lastModified:r,lastModifiedByName:void 0===e.application.account?"demo":e.application.account.name,color:Ct.NONE};e.createSubWorkflow(p),e.demo||we(e.workspaceId,u,l,a.title).then(function(t){t.ok?t.json().then(function(t){e.updateSubWorkflow(t)}):e.deleteSubWorkflow(l)}),t.props.close(),n.setSubmitting(!1);break;case At.FEATURE:var m=Object(Ae.v4)(),d=e.action.payload,f=d.subWorkflowId,h=d.milestoneId,E={kind:"feature",id:m,workspaceId:e.workspaceId,subWorkflowId:f,milestoneId:h,rank:"",title:a.title,description:"",status:Tt.OPEN,createdAt:r,createdBy:void 0===e.application.account?"":e.application.account.id,createdByName:void 0===e.application.account?"demo":e.application.account.name,lastModified:r,lastModifiedByName:void 0===e.application.account?"demo":e.application.account.name,color:Ct.NONE};e.createFeature(E),e.demo||re(e.workspaceId,h,f,m,a.title).then(function(t){t.ok?t.json().then(function(t){e.updateFeature(t)}):e.deleteFeature(m)}),t.props.close(),n.setSubmitting(!1)}},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement("div",{className:"flex flex-col "},c.a.createElement("div",{className:"mb-2"}," New card "),c.a.createElement("div",null,c.a.createElement(f.a,{name:"title",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({autoFocus:!0,type:"text"},t,{placeholder:"Title",id:"title",className:"rounded p-2 border w-full\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.title&&a.errors.title))}})),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement("div",{className:"flex flex-row"},c.a.createElement("div",{className:"mr-1"},c.a.createElement(Ne,{primary:!0,submit:!0,title:"Create"})),c.a.createElement("div",null,c.a.createElement(Ne,{title:"Cancel",handleOnClick:t.props.close}))))))}}))}}]),a}(r.Component),a=Object(qe.a)(t);return c.a.createElement("div",{style:{background:" rgba(0,0,0,.75)"},className:"fixed p-10 z-10 top-0 left-0 w-full h-full flex items-start justify-center bg-gray-100 text-sm"},c.a.createElement(a,{close:this.props.close}))}}]),t}(r.Component),Ht=Object(_e.c)(function(e){return{application:Qe(e)}},Jt)(Gt),Yt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.color&&this.props.color!==Ct.WHITE?this.props.color:null;return c.a.createElement("div",{className:"flex flex-row flex-no-shrink w-32 text-xs bg-white  overflow-hidden border  rounded "+(this.props.small?" ":" h-16 ")+(e?" border-l-4 "+Dt(e)+" ":" "+Dt(Ct.WHITE)+" ")},c.a.createElement("div",{className:"flex flex-col flex-grow"},c.a.createElement(ge.a,{className:"flex-grow p-1",to:this.props.link},c.a.createElement("span",{className:"CLOSED"===this.props.status?"line-through":""}," ",this.props.title," ")),this.props.bottomLink&&c.a.createElement("div",{className:" flex justify-center "},c.a.createElement("div",{className:"font-bold text-lg "},c.a.createElement("button",{className:" hover:text-gray-800 text-gray-500",onClick:this.props.bottomLink},"+"))),this.props.bottomStatus&&c.a.createElement("div",{className:" flex p-1 "},c.a.createElement("div",{style:{fontSize:"9px"}},this.props.bottomStatus))),this.props.rightLink&&c.a.createElement("div",{className:"flex items-center p-1"},c.a.createElement("div",{className:"font-bold text-lg "},c.a.createElement("button",{className:" hover:text-gray-800 text-gray-500",onClick:this.props.rightLink},"+"))))}}]),t}(r.Component),zt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"p-1 w-32 h-16  border border-dashed border-gray-800 rounded items-center justify-center "},c.a.createElement("div",{className:"flex h-full"},this.props.children))}}]),t}(r.Component),Xt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex p-1 w-32 h-16  border border-dashed border-gray-200 rounded items-center justify-center "},c.a.createElement("div",{className:"flex"},this.props.children))}}]),t}(r.Component),$t={moveFeature:function(e){return Object(Me.action)(Re.MOVE_FEATURE,e)},updateMilestone:mt,moveMilestone:function(e){return Object(Me.action)(rt.MOVE_MILESTONE,e)},moveSubWorkflow:function(e){return Object(Me.action)(ft.MOVE_SUBWORKFLOW,e)},updateSubWorkflow:yt,moveWorkflow:function(e){return Object(Me.action)(lt.MOVE_WORKFLOW,e)},updateWorkflow:bt},Qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).openCreateFeatureModal=function(e,t){a.setState(function(a){return{showCreateFeatureModal:!a.showCreateFeatureModal,createFeatureModalMilestoneId:e,createFeatureModalSubWorkflowId:t}})},a.closeCreateFeatureModal=function(){a.setState(function(e){return{showCreateFeatureModal:!1}})},a.handleMilestoneMove=function(e,t,a){},a.onDragEnd=function(e){var t=e.draggableId,n=e.type,r=e.destination,c=(new Date).toISOString(),s=void 0===a.props.application.account?"demo":a.props.application.account.name;if(r){switch(n){case"FEATURE":var o=a.getMilestoneAndSubWorkflowFromFeatureDroppableId(r.droppableId),i=o.rid,l=o.wid,u=a.getFeatureFromDraggableId(t);if(a.props.moveFeature({id:u,toMilestoneId:i,toSubWorkflowId:l,index:r.index,ts:c,by:s}),a.props.demo)return;ce(a.props.workspaceId,u,l,i,r.index).then(function(e){e.ok?e.json().then(function(e){ot(e)}):alert("Something went wrong when moving feature.")});break;case"MILESTONE":if(!a.isMilestoneDraggable(t))return;var p=a.getMilestoneFromDraggableId(t);if(a.props.moveMilestone({id:p,index:r.index,ts:c,by:s}),a.props.demo)return;$(a.props.workspaceId,p,r.index).then(function(e){e.ok?e.json().then(function(e){mt(e)}):alert("Something went wrong when moving milestone.")});break;case"WORKFLOW":var m=a.getWorkflowFromDraggableId(t);if(a.props.moveWorkflow({id:m,index:r.index,ts:c,by:s}),a.props.demo)return;de(a.props.workspaceId,m,r.index).then(function(e){e.ok?e.json().then(function(e){bt(e)}):alert("Something went wrong when moving card.")});break;case"SUBWORKFLOW":var d=a.getSubWorkflowFromDraggableId(t),f=a.getWorkflowFromDroppableId(r.droppableId);if(a.props.moveSubWorkflow({id:d,toWorkflowId:f,index:r.index,ts:c,by:s}),a.props.demo)return;ve(a.props.workspaceId,d,f,r.index).then(function(e){e.ok?e.json().then(function(e){yt(e)}):alert("Something went wrong when moving card.")})}a.setState({showClosedMilestones:!1})}},a.getListStyle=function(e){return{background:e?"#DAE1E7":""}},a.getItemStyle=function(e,t){return Object(at.a)({background:e?"#51D88A":""},t)},a.getMilestoneAndSubWorkflowFromFeatureDroppableId=function(e){var t=e.split("*");return{rid:t[1],wid:t[2]}},a.getFeatureFromDraggableId=function(e){return e.split("*",2)[1]},a.isMilestoneDraggable=function(e){return"m"===e.split("*")[0]},a.getMilestoneFromDraggableId=function(e){return e.split("*",2)[1]},a.getSubWorkflowFromDraggableId=function(e){return e.split("*",2)[1]},a.getWorkflowFromDraggableId=function(e){return e.split("*",2)[1]},a.getWorkflowFromDroppableId=function(e){return e.split("*")[1]},a.state={showCreateFeatureModal:!1,createFeatureModalMilestoneId:"",createFeatureModalSubWorkflowId:"",showCreateMilestoneModal:!1,showCreateWorkflowModal:!1,showCreateSubWorkflowModal:!1,createSubWorkflowWorkflowId:"",showClosedMilestones:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.projectId,n=t.features,r=t.workflows,s=t.milestones,o=t.subWorkflows,i=0===r.length&&0===s.length,l=this.props.viewOnly&&!this.props.demo;return c.a.createElement("div",{className:"z-0   "},c.a.createElement(Kt.a,{onDragStart:function(){return e.setState({showClosedMilestones:!0})},onDragEnd:this.onDragEnd},c.a.createElement("div",null,this.state.showCreateMilestoneModal?c.a.createElement(Ht,{demo:this.props.demo,action:{type:At.MILESTONE,payload:{}},workspaceId:this.props.workspaceId,projectId:a,close:function(){return e.setState({showCreateMilestoneModal:!1})}}):null,this.state.showCreateWorkflowModal?c.a.createElement(Ht,{demo:this.props.demo,action:{type:At.WORKFLOW,payload:{}},workspaceId:this.props.workspaceId,projectId:a,close:function(){return e.setState({showCreateWorkflowModal:!1})}}):null,this.state.showCreateSubWorkflowModal?c.a.createElement(Ht,{demo:this.props.demo,action:{type:At.SUBWORKFLOW,payload:{workflowId:this.state.createSubWorkflowWorkflowId}},workspaceId:this.props.workspaceId,projectId:a,close:function(){return e.setState({showCreateSubWorkflowModal:!1})}}):null,this.state.showCreateFeatureModal?c.a.createElement(Ht,{demo:this.props.demo,action:{type:At.FEATURE,payload:{subWorkflowId:this.state.createFeatureModalSubWorkflowId,milestoneId:this.state.createFeatureModalMilestoneId}},workspaceId:this.props.workspaceId,projectId:a,close:function(){return e.setState({showCreateFeatureModal:!1})}}):null,i?l?c.a.createElement("div",{className:"p-2"},"This story map is empty."):c.a.createElement("div",{className:"p-2"},c.a.createElement("p",null,c.a.createElement(Ne,{primary:!0,title:"Add goal",icon:"add",noborder:!0,handleOnClick:function(){return e.setState({showCreateWorkflowModal:!0})}})),c.a.createElement("p",null,"This board is empty, please start by adding a ",c.a.createElement("b",null,"user goal"),". If you are new to user story mapping, have a look at ",c.a.createElement("em",null,c.a.createElement("a",{className:"link",target:"_blank",href:"http://www.featmap.com/storymapping"},"An introduction to story mapping"))," or an ",c.a.createElement("a",{className:"link",target:"_blank",href:"https://app.featmap.com/link/e31ddff9-7138-4db7-b340-af0c2217b417?demo=1"},"example story map"),".")):c.a.createElement("div",null,c.a.createElement(Kt.c,{droppableId:"w",type:"WORKFLOW",direction:"horizontal"},function(t,a){return c.a.createElement("div",{className:"flex"},c.a.createElement("div",Object.assign({className:"flex    border-b-2    ",ref:t.innerRef},t.droppableProps,{style:e.getListStyle(a.isDraggingOver)}),c.a.createElement("div",{className:"flex flex-row w-full"},c.a.createElement("div",{className:" p-1 pr-2"},c.a.createElement(nt,null)),r.map(function(t,a){return[c.a.createElement(Kt.b,{isDragDisabled:l,key:t.id,draggableId:"w*"+t.id,index:a},function(a,n){return c.a.createElement("div",Object.assign({key:t.id,className:"bug flex p-1  ",ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(n.isDragging,a.draggableProps.style)}),c.a.createElement("div",{className:"flex flex-col bg-gray-100"},c.a.createElement("div",{className:"flex flex-grow m-1 "},c.a.createElement(Yt,{color:t.color,title:t.title,link:e.props.url+"/w/"+t.id})),c.a.createElement("div",{className:"flex flex-row fm-paren"},c.a.createElement(Kt.c,{key:"w"+t.id,droppableId:"sw*"+t.id,type:"SUBWORKFLOW",direction:"horizontal"},function(a,n){var r=It(o,t.id);return c.a.createElement("div",Object.assign({className:"flex flex-row",ref:a.innerRef},a.droppableProps,{style:e.getListStyle(n.isDraggingOver)}),0===r.length?c.a.createElement("div",{className:"text-xs p-1"},l?c.a.createElement(nt,null):c.a.createElement(zt,null,c.a.createElement(Ne,{title:"Add activity",icon:"add",noborder:!0,handleOnClick:function(){return e.setState({showCreateSubWorkflowModal:!0,createSubWorkflowWorkflowId:t.id})}}))):null,r.map(function(a,n){return[c.a.createElement(Kt.b,{isDragDisabled:l,key:a.id,draggableId:"sw*"+a.id,index:n},function(s,o){return c.a.createElement("div",null,c.a.createElement("div",Object.assign({className:"bug flex p-1 ",ref:s.innerRef},s.draggableProps,s.dragHandleProps,{style:e.getItemStyle(o.isDragging,s.draggableProps.style)}),c.a.createElement("div",{className:"flex  w-full"},c.a.createElement(Yt,{color:a.color,title:a.title,link:e.props.url+"/sw/"+a.id,rightLink:n!==r.length-1||l?void 0:function(){return e.setState({showCreateSubWorkflowModal:!0,createSubWorkflowWorkflowId:t.id})}}))),s.placeholder)})]}),a.placeholder)}))))})]}),t.placeholder,c.a.createElement("div",{className:"text-xs p-2"},!l&&c.a.createElement(zt,null,c.a.createElement(Ne,{title:"Add goal",icon:"add",noborder:!0,handleOnClick:function(){return e.setState({showCreateWorkflowModal:!0})}}))))))}),c.a.createElement(Kt.c,{droppableId:"dm",type:"MILESTONE"},function(t,a){return c.a.createElement("div",{className:"flex"},c.a.createElement("div",Object.assign({className:"flex flex-col ",ref:t.innerRef},t.droppableProps,{style:e.getListStyle(a.isDraggingOver)}),s.map(function(t,a){var s=!e.props.showClosedMilstones&&t.status===Tt.CLOSED;return[c.a.createElement(Kt.b,{isDragDisabled:l,key:t.id,draggableId:"m*"+t.id,index:a},function(a,i){return c.a.createElement("div",Object.assign({key:t.id,className:"flex bug p-1   ",ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(i.isDragging,a.draggableProps.style)}),c.a.createElement("div",{className:"flex  bg-gray-100 pb-1  border-b border-dashed  "},s?c.a.createElement("div",{className:"flex  w-full  p-1  "},c.a.createElement("div",{className:""},c.a.createElement(Yt,{small:!0,color:t.color,status:t.status,title:t.title,link:e.props.url+"/m/"+t.id}))):c.a.createElement("div",{className:"flex  w-full  "},c.a.createElement("div",{className:"p-1"},function(){var a,r,s=(a=n,r=t.id,a.filter(function(e){return e.milestoneId===r}));return c.a.createElement(Yt,{bottomStatus:s.length?Ut(s).length+"/"+s.length:void 0,color:t.color,status:t.status,title:t.title,link:e.props.url+"/m/"+t.id})}()),r.map(function(a){var r=It(o,a.id);return[c.a.createElement("div",{className:"flex flex-row pl-1 pr-1",key:a.id},0===r.length?c.a.createElement("div",{className:"p-1"},c.a.createElement(nt,null)):null,r.map(function(a){var r=_t(n,t.id,a.id);return[c.a.createElement(Kt.c,{key:a.id,droppableId:"df*"+t.id+"*"+a.id,type:"FEATURE"},function(n,s){return c.a.createElement("div",Object.assign({className:"flex flex-col fm-paren ",ref:n.innerRef},n.droppableProps,{style:e.getListStyle(s.isDraggingOver)}),r.map(function(n,s){return[c.a.createElement(Kt.b,{isDragDisabled:l,key:n.id,draggableId:"f*"+n.id,index:s},function(o,i){return c.a.createElement("div",null,c.a.createElement("div",Object.assign({className:"p-1",ref:o.innerRef},o.draggableProps,o.dragHandleProps,{style:e.getItemStyle(i.isDragging,o.draggableProps.style)}),c.a.createElement(Yt,{color:n.color,status:n.status,title:n.title,link:e.props.url+"/f/"+n.id,bottomLink:s!==r.length-1||l?void 0:function(){return e.setState({showCreateFeatureModal:!0,createFeatureModalMilestoneId:t.id,createFeatureModalSubWorkflowId:a.id})}})),o.placeholder)})]}),n.placeholder,0===r.length?c.a.createElement("div",{className:"flex  text-xs p-1"},l?c.a.createElement(nt,null):c.a.createElement(Xt,null,c.a.createElement("button",{className:" text-gray-400 text-2xl hover:text-gray-800",onClick:function(){return e.setState({showCreateFeatureModal:!0,createFeatureModalMilestoneId:t.id,createFeatureModalSubWorkflowId:a.id})}},"+"))):null)})]}))]}))))})]}),t.placeholder,c.a.createElement("div",{className:"flex   p-2  text-xs "},!l&&c.a.createElement(zt,null,c.a.createElement(Ne,{title:"Add release",icon:"add",noborder:!0,handleOnClick:function(){return e.setState({showCreateMilestoneModal:!0})}})))))})))))}}]),t}(r.Component),Zt=Object(_e.c)(function(e){return{application:Qe(e)}},$t)(Qt),ea=Object($e.a)([function(e){return e.milestones}],function(e){return ta(e.items)}),ta=function(e){return e.sort(function(e,t){return e.rank===t.rank?0:+(e.rank>t.rank)||-1})},aa=function(e,t){return e.find(function(e){return e.id===t})},na=function(e,t){return e.filter(function(e){return e.projectId===t})},ra=Object($e.a)([function(e){return e.workflows}],function(e){return ca(e.items)}),ca=function(e){return e.sort(function(e,t){return e.rank===t.rank?0:+(e.rank>t.rank)||-1})},sa=function(e,t){return e.find(function(e){return e.id===t})},oa=function(e,t){return e.filter(function(e){return e.projectId===t})};!function(e){e.CREATE_PROJECT="CREATE_PROJECT",e.LOAD_PROJECTS="LOAD_PROJECTS",e.UPDATE_PROJECT="UPDATE_PROJECT",e.DELETE_PROJECT="DELETE_PROJECT"}(Vt||(Vt={}));var ia=function(e){return Object(Me.action)(Vt.CREATE_PROJECT,e)},la=function(e){return Object(Me.action)(Vt.LOAD_PROJECTS,e)},ua=function(e){return Object(Me.action)(Vt.UPDATE_PROJECT,e)},pa=function(e){return Object(Me.action)(Vt.DELETE_PROJECT,e)},ma=a(27),da=a.n(ma),fa={updateMilestone:mt,createMilestone:ut,deleteMilestone:dt,updateSubWorkflow:yt,createSubWorkflow:xt,deleteSubWorkflow:jt,updateWorkflow:bt,createWorkflow:ht,deleteWorkflow:wt,updateFeature:ot,createFeature:ct,deleteFeature:it,updateProject:ua,createProject:ia,deleteProject:pa},ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClickOutside=function(){a.state.edit&&(a.setState({edit:!1}),a.submitForm())},a.submitForm=void 0,a.submit=function(e,t){switch(a.props.card.kind){case"project":var n=a.props.card;n.title=e.title,n.lastModified=(new Date).toISOString(),n.lastModifiedByName=void 0===a.props.app.account?"demo":a.props.app.account.name,a.props.updateProject(n),a.props.demo||H(a.props.card.workspaceId,a.props.card.id,e.title).then(function(e){e.ok?e.json().then(function(e){a.props.updateProject(e)}):alert("Something went wrong when trying to rename.")});break;case"milestone":var r=a.props.card;r.title=e.title,r.lastModified=(new Date).toISOString(),r.lastModifiedByName=void 0===a.props.app.account?"demo":a.props.app.account.name,a.props.updateMilestone(r),a.props.demo||Z(a.props.card.workspaceId,a.props.card.id,e.title).then(function(e){e.ok?e.json().then(function(e){a.props.updateMilestone(e)}):alert("Something went wrong when trying to rename.")});break;case"subworkflow":var c=a.props.card;c.title=e.title,c.lastModified=(new Date).toISOString(),c.lastModifiedByName=void 0===a.props.app.account?"demo":a.props.app.account.name,a.props.updateSubWorkflow(c),a.props.demo||xe(a.props.card.workspaceId,a.props.card.id,e.title).then(function(e){e.ok?e.json().then(function(e){a.props.updateSubWorkflow(e)}):alert("Something went wrong when trying to rename.")});break;case"workflow":var s=a.props.card;s.title=e.title,s.lastModified=(new Date).toISOString(),s.lastModifiedByName=void 0===a.props.app.account?"demo":a.props.app.account.name,a.props.updateWorkflow(s),a.props.demo||he(a.props.card.workspaceId,a.props.card.id,e.title).then(function(e){e.ok?e.json().then(function(e){a.props.updateWorkflow(e)}):alert("Something went wrong when trying to rename.")});break;case"feature":var o=a.props.card;o.title=e.title,o.lastModified=(new Date).toISOString(),o.lastModifiedByName=void 0===a.props.app.account?"demo":a.props.app.account.name,a.props.updateFeature(o),a.props.demo||le(a.props.card.workspaceId,a.props.card.id,e.title).then(function(e){e.ok?e.json().then(function(e){a.props.updateFeature(e)}):alert("Something went wrong when trying to rename.")})}a.setState({edit:!1}),t.setSubmitting(!1)},a.submitForm=function(){},a.state={edit:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=!1;switch(this.props.card.kind){case"milestone":case"feature":t="CLOSED"===this.props.card.status}return c.a.createElement("div",{className:" self-start w-full  "},c.a.createElement(f.c,{initialValues:{title:this.props.card.title},validationSchema:d.object().shape({title:d.string().min(1,"Minimum 1 characters.").max(200,"Maximum 200 characters.").required("Title required.")}),onSubmit:this.submit,render:function(a){e.submitForm=a.submitForm;var n=function(e){e.currentTarget.select()};return c.a.createElement(f.b,null,a.status&&a.status.msg&&c.a.createElement("div",null,a.status.msg),e.state.edit?c.a.createElement(f.a,{name:"title",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-col "},c.a.createElement("div",null,c.a.createElement("input",Object.assign({autoFocus:!0,onFocus:n,type:"text"},t,{placeholder:"Title",id:"title",className:"rounded p-2  border w-full  text-xl\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.title&&a.errors.title))}}):c.a.createElement("div",{className:"text-xl mt-2 ml-2 border border-white"},e.props.viewOnly||t?c.a.createElement("span",{className:t?"line-through":""}," ",e.props.card.title):c.a.createElement("button",{onClick:function(){return e.setState({edit:!0})}},e.props.card.title)))}}))}}]),t}(r.Component),Ea=Object(_e.c)(function(e){return{application:Qe(e)}},fa)(Object(qe.a)(ha)),ba=a(184),wa=a.n(ba),va={updateMilestone:mt,updateSubWorkflow:yt,updateWorkflow:bt,updateFeature:ot,updateProject:ua},Oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClickOutside=function(){a.state.edit&&(a.setState({edit:!1}),a.submitForm())},a.submitForm=void 0,a.submitForm=function(){},a.state={edit:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=!1;switch(this.props.entity.kind){case"milestone":case"feature":t="CLOSED"===this.props.entity.status}return c.a.createElement("div",{className:" self-start w-full mb-4 "},c.a.createElement(f.c,{initialValues:{description:this.props.entity.description},validationSchema:d.object().shape({description:d.string().max(1e4,"Maximum 10000 characters.")}),onSubmit:function(t,a){switch(e.props.entity.kind){case"project":var n=e.props.entity;n.description=t.description,n.lastModified=(new Date).toISOString(),n.lastModifiedByName=void 0===e.props.app.account?"demo":e.props.app.account.name,e.props.updateProject(n),e.props.demo||z(e.props.entity.workspaceId,e.props.entity.id,t.description).then(function(t){t.ok?t.json().then(function(t){e.props.updateProject(t)}):alert("Something went wrong when updating description.")});break;case"milestone":var r=e.props.entity;r.description=t.description,r.lastModified=(new Date).toISOString(),r.lastModifiedByName=void 0===e.props.app.account?"demo":e.props.app.account.name,e.props.updateMilestone(r),e.props.demo||ee(e.props.entity.workspaceId,e.props.entity.id,t.description).then(function(t){t.ok?t.json().then(function(t){e.props.updateMilestone(t)}):alert("Something went wrong when updating description.")});break;case"subworkflow":var c=e.props.entity;c.description=t.description,c.lastModified=(new Date).toISOString(),c.lastModifiedByName=void 0===e.props.app.account?"demo":e.props.app.account.name,e.props.updateSubWorkflow(c),e.props.demo||ke(e.props.entity.workspaceId,e.props.entity.id,t.description).then(function(t){t.ok?t.json().then(function(t){e.props.updateSubWorkflow(t)}):alert("Something went wrong when updating description.")});break;case"workflow":var s=e.props.entity;s.description=t.description,s.lastModified=(new Date).toISOString(),s.lastModifiedByName=void 0===e.props.app.account?"demo":e.props.app.account.name,e.props.updateWorkflow(s),e.props.demo||Ee(e.props.entity.workspaceId,e.props.entity.id,t.description).then(function(t){t.ok?t.json().then(function(t){e.props.updateWorkflow(t)}):alert("Something went wrong when updating description.")});break;case"feature":var o=e.props.entity;o.description=t.description,o.lastModified=(new Date).toISOString(),o.lastModifiedByName=void 0===e.props.app.account?"demo":e.props.app.account.name,e.props.updateFeature(o),e.props.demo||ue(e.props.entity.workspaceId,e.props.entity.id,t.description).then(function(t){t.ok?t.json().then(function(t){e.props.updateFeature(t)}):alert("Something went wrong when updating description.")})}e.setState({edit:!1}),a.setSubmitting(!1)},render:function(a){return e.submitForm=a.submitForm,c.a.createElement(f.b,null,a.status&&a.status.msg&&c.a.createElement("div",null,a.status.msg),e.state.edit?c.a.createElement(f.a,{name:"description",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-col mt-1 "},c.a.createElement("div",{className:"markdown"},c.a.createElement("textarea",Object.assign({autoFocus:!0,rows:20},t,{placeholder:"Description",id:"description",className:"rounded p-2  border w-full  \t"}))),c.a.createElement("span",{className:"text-xs right p-1"},"The description supports formatting through ",c.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",className:"link",href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet"},"Markdown"),"."),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.description&&a.errors.description))}}):c.a.createElement("div",{className:" mt-2 ml-2 border border-white  "},c.a.createElement("div",null,0===e.props.entity.description.length?c.a.createElement("div",null,c.a.createElement("em",null,"No description.")):c.a.createElement("div",null,c.a.createElement("div",{className:"text-left markdown overflow-auto"},c.a.createElement(wa.a,{source:e.props.entity.description,linkTarget:"_blank"}))),c.a.createElement("div",{className:"mt-1"},!(e.props.viewOnly||t)&&c.a.createElement(Ne,{title:"Edit description",icon:"edit",handleOnClick:function(){return e.setState({edit:!0})}})))))}}))}}]),t}(r.Component),xa=Object(_e.c)(function(e){return{application:Qe(e)}},va)(Object(qe.a)(Oa)),ka={updateMilestone:mt,createMilestone:ut,deleteMilestone:dt,updateSubWorkflow:yt,createSubWorkflow:xt,deleteSubWorkflow:jt,updateWorkflow:bt,createWorkflow:ht,deleteWorkflow:wt,updateFeature:ot,createFeature:ct,deleteFeature:it,updateProject:ua,createProject:ia,deleteProject:pa},ya=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).urlRef=c.a.createRef(),a.copyToClipboard=function(e){var t=function(t){t.clipboardData.setData("text/plain",e),t.preventDefault()};document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t),a.setState({copySuccess:!0})},a.handleDelete=function(){var e=a.props.entity;switch(e.kind){case"project":a.props.deleteProject(e.id),a.props.demo||Y(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")});break;case"milestone":a.props.deleteMilestone(e.id),a.props.demo||Q(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")});break;case"subworkflow":a.props.deleteSubWorkflow(e.id),a.props.demo||Oe(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")});break;case"workflow":a.props.deleteWorkflow(e.id),a.props.demo||fe(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")});break;case"feature":a.props.deleteFeature(e.id),a.props.demo||ie(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")})}a.props.close()},a.handleClose=function(){var e=a.props.entity;switch(e.kind){case"feature":a.props.updateFeature(Object(at.a)({},e,{status:Tt.CLOSED,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||oe(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")});break;case"milestone":a.props.updateMilestone(Object(at.a)({},e,{status:Tt.CLOSED,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||ae(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")})}a.props.close()},a.handleOpen=function(){var e=a.props.entity;switch(e.kind){case"feature":a.props.updateFeature(Object(at.a)({},e,{status:Tt.OPEN,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||se(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")});break;case"milestone":a.props.updateMilestone(Object(at.a)({},e,{status:Tt.OPEN,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||te(e.workspaceId,e.id).then(function(e){e.ok||alert("Something went wrong.")})}},a.handleChangeColor=function(e){var t=a.props.entity;switch(t.kind){case"feature":a.props.updateFeature(Object(at.a)({},t,{color:e,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||pe(t.workspaceId,t.id,e).then(function(e){e.ok||alert("Something went wrong.")});break;case"milestone":a.props.updateMilestone(Object(at.a)({},t,{color:e,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||ne(t.workspaceId,t.id,e).then(function(e){e.ok||alert("Something went wrong.")});break;case"workflow":a.props.updateWorkflow(Object(at.a)({},t,{color:e,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||be(t.workspaceId,t.id,e).then(function(e){e.ok||alert("Something went wrong.")});break;case"subworkflow":a.props.updateSubWorkflow(Object(at.a)({},t,{color:e,lastModified:(new Date).toISOString(),lastModifiedByName:void 0===a.props.application.account?"demo":a.props.application.account.name})),a.props.demo||ye(t.workspaceId,t.id,e).then(function(e){e.ok||alert("Something went wrong.")})}},a.state={editTitle:!1,copySuccess:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=!0;switch(this.props.entity.kind){case"milestone":case"feature":t=this.props.entity.status===Tt.OPEN}return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",{className:"flex w-full h-4 "+("project"===this.props.entity.kind?"":Lt(this.props.entity.color))}),c.a.createElement("div",{className:"flex w-full h-full flex-row bg-white overflow-auto "},c.a.createElement("div",{className:"flex flex-col w-full p-2  "},c.a.createElement(Ea,{demo:this.props.demo,viewOnly:this.props.viewOnly,card:this.props.entity,app:this.props.application,url:this.props.url,close:this.props.close}),c.a.createElement(xa,{demo:this.props.demo,viewOnly:this.props.viewOnly,entity:this.props.entity,app:this.props.application,url:this.props.url,close:this.props.close})),c.a.createElement("div",{className:"flex flex-col w-64 bg-gray-200 p-2"},c.a.createElement("div",{className:"flex justify-end items-center"},this.props.viewOnly?null:c.a.createElement(He,{icon:"more_horiz"},c.a.createElement("div",{className:"rounded bg-white shadow-md  absolute mt-8 top-0 right-0 min-w-full text-xs"},c.a.createElement("ul",{className:"list-reset"},c.a.createElement("li",null,c.a.createElement(Ne,{noborder:!0,title:"Delete",icon:"delete",warning:!0,handleOnClick:this.handleDelete}))))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e.props.close()}}," ",c.a.createElement("i",{className:"material-icons "},"clear")))),c.a.createElement("div",{className:"flex flex-col text-xs"},c.a.createElement("div",{className:" mb-1 font-bold"},"Permalink"),c.a.createElement("div",{className:"flex items-center flex-grow"},c.a.createElement("div",{className:"flex flex-grow "},c.a.createElement("input",{onClick:function(){return e.urlRef.current.select()},ref:this.urlRef,readOnly:!0,className:"p-1 w-full  border mr-1",value:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL+this.props.url})),c.a.createElement("div",null,document.queryCommandSupported("copy")&&c.a.createElement("button",{onClick:function(){return e.copyToClipboard(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL+e.props.url)}},c.a.createElement("i",{style:{fontSize:"16px"},className:"material-icons text-gray-800"},"file_copy"))),c.a.createElement("div",null,c.a.createElement("i",{style:{fontSize:"16px"},className:"material-icons  text-green-500"+(this.state.copySuccess?"":" invisible")},"check_circle")))),!this.props.viewOnly&&t?c.a.createElement("div",null,function(){switch(e.props.entity.kind){case"workflow":case"subworkflow":case"milestone":case"feature":var t=e.props.entity.color;return c.a.createElement("div",{className:"flex flex-col text-xs mt-3 "},c.a.createElement("div",{className:" mb-1 font-bold"},"Color"),c.a.createElement("div",{className:"flex items-center flex-grow"},c.a.createElement("div",{className:"flex flex-row"},Rt.map(function(a){return[c.a.createElement("div",{key:a,className:"flex flex-col  mr-1"},c.a.createElement("button",{onClick:function(){return e.handleChangeColor(a)},title:a,className:"flex h-3 w-3 border "+Lt(a)+" "+Dt(a)}),c.a.createElement("div",{className:"flex justify-center"},t===a?c.a.createElement("div",null,"\u25cf"):null))]})," ")))}}()):null,c.a.createElement("div",{className:"flex flex-col text-xs mt-3 "},c.a.createElement("div",{className:" mb-1 font-bold"},"Created"),c.a.createElement("div",{className:"flex items-center flex-grow"},c.a.createElement("span",{className:"font-medium"},c.a.createElement(da.a,{date:this.props.entity.createdAt})," by ",this.props.entity.createdByName))),c.a.createElement("div",{className:"flex flex-col text-xs mt-3 "},c.a.createElement("div",{className:" mb-1 font-bold"},"Last modified"),c.a.createElement("div",{className:"flex items-center flex-grow  "},c.a.createElement("span",{className:"font-medium"},c.a.createElement(da.a,{date:this.props.entity.lastModified})," by ",this.props.entity.lastModifiedByName))),c.a.createElement("div",{className:"flex flex-col text-xs mt-3 "},c.a.createElement("div",{className:"flex items-center flex-grow  "},this.props.viewOnly?null:c.a.createElement("div",null,function(){switch(e.props.entity.kind){case"milestone":case"feature":if("OPEN"===e.props.entity.status)return c.a.createElement(Ne,{icon:"check",iconColor:"text-green-500",title:"Close card",handleOnClick:e.handleClose});if("CLOSED"===e.props.entity.status)return c.a.createElement(Ne,{secondary:!0,title:"Reopen card",handleOnClick:e.handleOpen})}}()))))))}}]),t}(r.Component),ja=Object(_e.c)(function(e){return{application:Qe(e)}},ka)(ya),ga=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).keydownHandler=function(e){27===e.keyCode&&a.props.close()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler,!1)}},{key:"render",value:function(){var e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClickOutside=function(){a.props.close()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:" w-full  max-w-xl   fm-max-dialog  overflow-y-auto "},c.a.createElement(ja,{demo:this.props.demo,viewOnly:this.props.viewOnly,url:this.props.url,entity:this.props.card,close:this.props.close}))}}]),t}(r.Component),t=Object(qe.a)(e);return c.a.createElement("div",{style:{background:" rgba(0,0,0,.75)"},className:"fixed p-5 z-0 top-0 left-0 h-full w-full  flex items-start  bg-gray-100 text-sm"},c.a.createElement(t,{demo:this.props.demo,viewOnly:this.props.viewOnly,url:this.props.url,card:this.props.entity,close:this.props.close}))}}]),t}(r.Component),Na=Object(_e.c)(function(e){return{}},{})(ga),Sa=Object($e.a)([function(e){return e.projects}],function(e){return Ia(e.items)}),Ia=function(e){return e.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})},Ta=function(e,t){return e.find(function(e){return e.id===t})},Wa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).close=function(){a.props.history.push("/"+a.props.match.params.workspaceName+"/projects/"+a.props.match.params.projectId)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Ze(this.props.application,this.props.match.params.workspaceName),t=et(this.props.application,e.id),a=!Wt(t.level);if(this.props.match.params.milestoneId){var n=aa(this.props.milestones,this.props.match.params.milestoneId);return c.a.createElement(Na,{demo:!1,viewOnly:a,entity:n,url:this.props.match.url,close:this.close})}if(this.props.match.params.subWorkflowId){var r=St(this.props.subWorkflows,this.props.match.params.subWorkflowId);return c.a.createElement(Na,{demo:!1,viewOnly:a,entity:r,url:this.props.match.url,close:this.close})}if(this.props.match.params.workflowId){var s=sa(this.props.workflows,this.props.match.params.workflowId);return c.a.createElement(Na,{demo:!1,viewOnly:a,entity:s,url:this.props.match.url,close:this.close})}if(this.props.match.params.featureId){var o=Bt(this.props.features,this.props.match.params.featureId);return c.a.createElement(Na,{demo:!1,viewOnly:a,entity:o,url:this.props.match.url,close:this.close})}if(this.props.match.params.projectId2){var i=Ta(this.props.projects,this.props.match.params.projectId2);return c.a.createElement(Na,{demo:!1,viewOnly:a,entity:i,url:this.props.match.url,close:this.close})}}}]),t}(r.Component),Ca=Object(_e.c)(function(e){return{application:Qe(e),milestones:ea(e),subWorkflows:gt(e),workflows:ra(e),features:Pt(e),projects:Sa(e)}},{})(Wa),Ma=a(52),Aa=a.n(Ma),Ra={loadMilestones:pt,loadWorkflows:Et,loadSubWorkflows:kt,loadFeatures:st},La=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).copyToClipboard=function(e){var t=function(t){t.clipboardData.setData("text/plain",e),t.preventDefault()};document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t),a.setState({copySuccess:!0})},a.urlRef=c.a.createRef(),a.state={projectFound:!1,loading:!0,showClosedMilstones:!1,copySuccess:!1,demo:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.projectId,n=t.workspaceName,r=Ta(this.props.projects,a),c=Ze(this.props.application,n);r&&q(c.id,r.id).then(function(t){t.ok&&t.json().then(function(t){e.props.loadMilestones(t.milestones),e.props.loadWorkflows(t.workflows),e.props.loadSubWorkflows(t.subWorkflows),e.props.loadFeatures(t.features),e.setState({loading:!1})})}),r&&this.setState({projectFound:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.projectId;Ta(this.props.projects,e)||this.props.history.push("/"+this.props.match.params.workspaceName),"1"===Aa.a.parse(this.props.location.search).demo&&this.setState({demo:!0})}},{key:"render",value:function(){var e=this,t=this.props.match.params,a=t.projectId,n=t.workspaceName,r=Ze(this.props.application,n),s=Ta(this.props.projects,a),o=et(this.props.application,r.id),i=!Wt(o.level);return s?this.state.loading?c.a.createElement("div",{className:"p-2"},"Loading data..."):c.a.createElement("div",{className:"overflow-x-auto"},c.a.createElement("div",{className:"flex flex-row p-2 "},c.a.createElement("div",{className:"flex flex-grow m-1 text-xl items-center"},c.a.createElement("div",{className:"flex"},c.a.createElement("span",{className:"font-semibold"},s.title,"  ")),i&&c.a.createElement("div",{className:"flex ml-2"},c.a.createElement("span",{className:"font-semibold p-1 bg-gray-200 text-xs "}," VIEW ONLY  "))),c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{className:" flex items-center  text-sm"},r.allowExternalSharing&&c.a.createElement("div",null,c.a.createElement("div",{className:"flex items-center flex-grow"},c.a.createElement("div",{className:"flex flex-grow mr-1 "},c.a.createElement(ge.a,{target:"_blank",className:"link",to:"/link/"+s.externalLink},"External link (view only) ")),c.a.createElement("div",null,document.queryCommandSupported("copy")&&c.a.createElement("button",{onClick:function(){return e.copyToClipboard(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL+"/link/"+s.externalLink)}},c.a.createElement("i",{style:{fontSize:"16px"},className:"material-icons text-gray-800"},"file_copy"))),c.a.createElement("div",null,c.a.createElement("i",{style:{fontSize:"16px"},className:"material-icons  text-green-500"+(this.state.copySuccess?"":" invisible")},"check_circle")))),c.a.createElement("div",{className:"ml-2"},this.state.showClosedMilstones?c.a.createElement(Ne,{iconColor:"text-green-500",icon:"toggle_on",title:"Show closed milestones",handleOnClick:function(){return e.setState({showClosedMilstones:!1})}}):c.a.createElement(Ne,{icon:"toggle_off ",title:"Show closed milestones",handleOnClick:function(){return e.setState({showClosedMilstones:!0})}}))),c.a.createElement("div",{className:"ml-4"},c.a.createElement(ge.a,{to:this.props.match.url+"/p/"+this.props.match.params.projectId},c.a.createElement("i",{className:"material-icons text-gray-600"},"settings"))))),c.a.createElement(Zt,{showClosedMilstones:this.state.showClosedMilstones,viewOnly:i,url:this.props.match.url,features:this.props.features,workflows:oa(this.props.workflows,a),subWorkflows:this.props.subWorkflows,milestones:na(this.props.milestones,a),projectId:a,workspaceId:r.id,demo:this.state.demo}),c.a.createElement(Je.d,null,c.a.createElement(Je.b,{exact:!0,path:"/",component:function(){return null}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/m/:milestoneId",component:Ca}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/sw/:subWorkflowId",component:Ca}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/f/:featureId",component:Ca}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/w/:workflowId",component:Ca}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/p/:projectId2",component:Ca}))):c.a.createElement("div",null,"Project not found")}}]),t}(r.Component),Da=Object(_e.c)(function(e){return{application:Qe(e),projects:Sa(e),milestones:ea(e),subWorkflows:gt(e),workflows:ra(e),features:Pt(e)}},Ra)(La),Pa={createProject:ia},Fa=d.object().shape({title:d.string().min(1,"Project minimum 1 characters.").max(200,"Project  maximum 200 characters.").required("Title required.")}),_a=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).keydownHandler=function(e){27===e.keyCode&&a.props.close()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler,!1)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{background:" rgba(0,0,0,.75)"},className:"fixed p-1 z-0 top-0 left-0 w-full h-full flex items-center justify-center bg-gray-100 text-sm"},c.a.createElement("div",{className:"bg-white p-3 w-full  max-w-xs"},c.a.createElement(f.c,{initialValues:{title:""},validationSchema:Fa,onSubmit:function(t,a){var n=Object(Ae.v4)(),r=Ze(e.props.application,e.props.workspaceName).id;G(r,n,t.title).then(function(t){t.ok?t.json().then(function(t){e.props.createProject(t),e.props.close()}):t.json().then(function(e){switch(e.message){case"title_invalid":a.setFieldError("title","Title is invalid.")}})}),a.setSubmitting(!1)},render:function(t){return c.a.createElement(f.b,null,t.status&&t.status.msg&&c.a.createElement("div",null,t.status.msg),c.a.createElement("div",{className:"flex flex-col "},c.a.createElement("div",{className:"mb-2"}," Create project "),c.a.createElement("div",null,c.a.createElement(f.a,{name:"title",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({autoFocus:!0,type:"text"},t,{placeholder:"Title",id:"title",className:"rounded p-2 border w-full\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.title&&a.errors.title))}})),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement("div",{className:"flex flex-row"},c.a.createElement("div",{className:"mr-1"},c.a.createElement(Ne,{submit:!0,title:"Create",primary:!0})),c.a.createElement("div",null,c.a.createElement(Ne,{title:"Cancel",handleOnClick:e.props.close}))))))}})))}}]),t}(r.Component),Ua=Object(_e.c)(function(e){return{application:Qe(e)}},Pa)(_a),Ba=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).openProjectModal=function(){a.setState(function(e){return{showAddProjectModal:!0}})},a.closeProjectModal=function(){a.setState(function(e){return{showAddProjectModal:!1}})},a.state={show:!1,showAddProjectModal:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.workspaceName,a=Ze(this.props.application,this.props.match.params.workspaceName),n=et(this.props.application,a.id),r=!Wt(n.level);return c.a.createElement("div",null,this.state.showAddProjectModal?c.a.createElement(Ua,{workspaceName:t,close:this.closeProjectModal}):null,c.a.createElement("div",{className:"  "},c.a.createElement("div",{className:"p-2 flex flex-row mb-2 items-center"},c.a.createElement("div",null,c.a.createElement("h3",null,"Projects")),!r&&c.a.createElement("div",{className:"ml-2"}," ",c.a.createElement(Ne,{title:"New project",primary:!0,icon:"add",handleOnClick:function(){return e.openProjectModal()}}))),c.a.createElement("div",null),c.a.createElement(Se,null,c.a.createElement("div",null,this.props.projects.length>0?c.a.createElement("div",{className:"flex flex-col  max-w-lg  "},c.a.createElement("div",{className:"p-2  "},this.props.projects.length,"  project(s)"),c.a.createElement("div",null,this.props.projects.map(function(t){return c.a.createElement("div",{className:" p-2",key:t.id},c.a.createElement("div",{className:"mb-1"},c.a.createElement("b",null,c.a.createElement(ge.a,{className:"",to:e.props.location.pathname+"/projects/"+t.id},t.title," "))),c.a.createElement("div",{className:"text-xs"},"Created ",c.a.createElement(da.a,{date:t.createdAt})," by ",t.createdByName))}))):"No projects"))))}}]),t}(r.Component),Ka=Object(_e.c)(function(e){return{application:Qe(e),projects:Sa(e)}},{})(Ba),Va=a(185),Ja=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={members:[],invites:[],showMemberDetails:!1,memberId:"",reallySureWarning:!1,allowExternalSharing:!1,isCompany:!1,euVat:"",country:"",externalBillingEmail:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.loadMembers(),this.loadInvites();var e=Ze(this.props.application,this.props.match.params.workspaceName);this.setState({allowExternalSharing:e.allowExternalSharing})}},{key:"loadInvites",value:function(){var e=this,t=Ze(this.props.application,this.props.match.params.workspaceName);U(t.id).then(function(t){t.ok&&t.json().then(function(t){e.setState({invites:t})})})}},{key:"loadMembers",value:function(){var e=this,t=Ze(this.props.application,this.props.match.params.workspaceName);D(t.id).then(function(t){t.ok&&t.json().then(function(t){e.setState({members:t})})})}},{key:"render",value:function(){var e=this,t=Ze(this.props.application,this.props.match.params.workspaceName),a=et(this.props.application,t.id),n=function(e,t){return e.subscriptions.find(function(e){return e.workspaceId===t})}(this.props.application,t.id),s=function(a){var n=Object(r.useState)(!1),s=Object(Va.a)(n,2),o=s[0],i=s[1],l=a.member.accountId===e.props.application.account.id;return c.a.createElement("div",null,c.a.createElement("div",{className:"flex flex-row  "},c.a.createElement("div",{className:"flex flex-grow flex-col"},c.a.createElement("div",{className:""},a.member.name," (",a.member.email,") ",l&&c.a.createElement("span",{className:"bg-gray-200 text-xs font-bold text-black p-1 "},"THIS IS YOU")," "),c.a.createElement("div",{className:"text-xs mt-1"}," ",Mt(a.member.level),". Joined ",c.a.createElement(da.a,{date:a.member.createdAt}),".")),!l&&c.a.createElement("div",{className:""},c.a.createElement("button",{onClick:function(){return i(!o)}}," ",c.a.createElement("i",{className:"material-icons"},"expand_more"))," ")),!l&&o&&c.a.createElement("div",{className:"flex flex-row "},c.a.createElement("div",{className:"text-xs mt-3 flex-grow"},c.a.createElement(f.c,{initialValues:{level:a.member.level},validationSchema:d.object().shape({level:d.string().required("Required.")}),onSubmit:function(n,r){F(t.id,a.member.id,n.level).then(function(t){t.json().then(function(a){t.ok?(e.loadMembers(),e.props.newMessage("success","role changed")):e.props.newMessage("fail",a.message)})})},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement("div",null,c.a.createElement(f.a,{name:"level",component:"select",className:"rounded p-1 border mr-2"},c.a.createElement("option",{value:"VIEWER"},Mt("VIEWER")),c.a.createElement("option",{value:"EDITOR"},Mt("EDITOR")),c.a.createElement("option",{value:"ADMIN"},Mt("ADMIN")),c.a.createElement("option",{value:"OWNER"},Mt("OWNER"))),c.a.createElement(Ne,{secondary:!0,small:!0,submit:!0,title:"Change role"})))}})),c.a.createElement("div",{className:"flex text-xs mt-3 ml-3  justify-right"},c.a.createElement(f.c,{initialValues:{level:a.member.level},validationSchema:d.object().shape({level:d.string().required("Required.")}),onSubmit:function(n,r){_(t.id,a.member.id).then(function(t){t.ok?(e.loadMembers(),e.props.newMessage("success","membership removed")):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement("div",null,c.a.createElement(Ne,{warning:!0,submit:!0,small:!0,title:"Delete"})))}}))))};return c.a.createElement("div",null,c.a.createElement("h3",{className:"p-2"}," Workspace settings"),c.a.createElement(Se,{title:"My membership"},c.a.createElement("p",{className:"text-sm"}," ",Mt(a.level),". Joined ",c.a.createElement(da.a,{date:a.createdAt}),"."),"OWNER"!==a.level?c.a.createElement("div",null,c.a.createElement(f.c,{initialValues:{email:"",level:10},onSubmit:function(a,n){P(t.id).then(function(t){t.ok?(e.props.newMessage("success","left workspace"),window.location.href="/"):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(e){return c.a.createElement(f.b,null,c.a.createElement("p",{className:"text-xs"},c.a.createElement(Ne,{small:!0,warning:!0,submit:!0,title:"Leave workspace"})))}})):null),"ADMIN"!==a.level&&"OWNER"!==a.level||n.level!==Ot.PRO?null:c.a.createElement(Se,{title:"External link"},c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("input",{onChange:function(){v(t.id,!e.state.allowExternalSharing).then(function(t){t.ok?(e.setState({allowExternalSharing:!e.state.allowExternalSharing}),e.props.newMessage("success","setting changed")):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},checked:e.state.allowExternalSharing,type:"checkbox"})," Projects can be shared with people who are not members of the workspace (view only)."))),"ADMIN"===a.level||"OWNER"===a.level?c.a.createElement(Se,{title:"Workspace invites"},c.a.createElement("div",null,c.a.createElement("div",{className:""},c.a.createElement(f.c,{initialValues:{email:"",level:"VIEWER"},validationSchema:d.object().shape({email:d.string().email("Invalid.").required("Required."),level:d.string().required("Required.")}),onSubmit:function(a,n){B(t.id,a.email,a.level).then(function(t){t.ok?(e.loadInvites(),e.props.newMessage("success","invite sent")):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement("div",{className:"flex flex-col "},c.a.createElement("div",{className:"flex flex-col m-1"},c.a.createElement(f.a,{name:"email",component:"input",className:"rounded p-2 border  w-64  ",placeholder:"email"}),e.touched.email&&e.errors.email&&c.a.createElement("div",{className:"text-red-500 font-bold text-xs"},e.errors.email)),c.a.createElement("div",{className:"flex flex-col m-1"},c.a.createElement(f.a,{name:"level",component:"select",className:"rounded p-2 border  w-64  bg-white  "},c.a.createElement("option",{value:"VIEWER"},Mt("VIEWER")),c.a.createElement("option",{value:"EDITOR"},Mt("EDITOR")),c.a.createElement("option",{value:"ADMIN"},Mt("ADMIN")),c.a.createElement("option",{value:"OWNER"},Mt("OWNER")))),c.a.createElement("div",{className:"text-xs m-1"},c.a.createElement(Ne,{submit:!0,secondary:!0,title:"Send invitation"}))))}})),c.a.createElement("div",{className:"mt-2"},c.a.createElement("div",{className:"flex flex-col  max-w-2xl  "},c.a.createElement("div",{className:"p-3 text-sm "},this.state.invites.length,"  pending invite(s)"),c.a.createElement("div",{className:" p-1  "},this.state.invites.map(function(a){return c.a.createElement("div",{className:" p-2 w-full",key:a.id},c.a.createElement("p",null,a.email),c.a.createElement("p",{className:""},"Invited as ",c.a.createElement("b",null,Mt(a.level))," by ",a.createdByName," ",c.a.createElement(da.a,{date:a.createdAt}),". "),c.a.createElement("div",{className:"flex flex-row  mt-1"},c.a.createElement("div",null,c.a.createElement(f.c,{initialValues:{email:"",level:10},onSubmit:function(n,r){K(t.id,a.id).then(function(t){t.ok?(e.loadInvites(),e.props.newMessage("success","invite canceled")):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(e){return c.a.createElement(f.b,null,c.a.createElement("span",{className:"text-xs"},c.a.createElement(Ne,{small:!0,secondary:!0,submit:!0,title:"Cancel invite"})))}})),c.a.createElement("div",{className:"ml-1"},c.a.createElement(f.c,{initialValues:{},onSubmit:function(n,r){V(t.id,a.id).then(function(t){t.ok?(e.loadInvites(),e.props.newMessage("success","invite resent")):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(e){return c.a.createElement(f.b,null,c.a.createElement("span",{className:"text-xs"},c.a.createElement(Ne,{small:!0,secondary:!0,submit:!0,title:"Resend invite"})))}}))))})))))):null,"ADMIN"===a.level||"OWNER"===a.level?c.a.createElement(Se,{title:"Members"},c.a.createElement("div",null,c.a.createElement("div",{className:"flex flex-col  text-sm mt-2   max-w-2xl "},c.a.createElement("div",{className:"p-2  "},this.state.members.length,"  member(s),  ",this.state.members.filter(function(e){return Wt(e.level)}).length," editor(s)"),c.a.createElement("div",{className:" text-sm   "},this.state.members.map(function(e){return c.a.createElement("div",{className:" p-2 w-full",key:e.id},c.a.createElement(s,{member:e}))}))))):null,"OWNER"===a.level?c.a.createElement(Se,{title:"Delete workspace"},c.a.createElement("div",null,c.a.createElement("p",null,"All projects in this workspace will be deleted permanently. You need to cancel any active subscriptions before the workspace can be deleted.  "),c.a.createElement(f.c,{initialValues:{},onSubmit:function(a,n){W(t.id).then(function(t){t.ok?(e.props.newMessage("success","workspace deleted"),window.location.href="/"):t.json().then(function(t){e.props.newMessage("fail",t.message)})})},render:function(t){return c.a.createElement(f.b,null,c.a.createElement("p",{className:"text-xs"},c.a.createElement(Ne,{secondary:!0,button:!0,handleOnClick:function(){return e.setState({reallySureWarning:!0})},title:"Delete workspace"})," ",e.state.reallySureWarning&&c.a.createElement(Ne,{submit:!0,warning:!0,title:"Yes, I am really sure!"})," "))}}))):null)}}]),t}(r.Component),qa=Object(_e.c)(function(e){return{application:Qe(e)}},function(e){return{newMessage:Pe(e),receiveApp:Le}})(Ja),Ga={loadProjects:la},Ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,notFound:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.workspaceName,a=Ze(this.props.application,t);a||this.setState({notFound:!0}),a&&J(a.id).then(function(t){t.ok&&t.json().then(function(t){e.props.loadProjects(t),e.setState({loading:!1})})})}},{key:"render",value:function(){var e=this.props.match.params.workspaceName;return this.state.notFound?c.a.createElement("div",null,c.a.createElement(Je.a,{to:"/"})):this.state.loading?c.a.createElement("div",{className:"p-2"},"Loading data..."):c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(Ye,{account:this.props.application.account,workspaceName:e}),c.a.createElement(Je.d,null,c.a.createElement(Je.b,{exact:!0,strict:!0,path:this.props.match.path,component:Ka}),c.a.createElement(Je.b,{exact:!0,strict:!0,path:this.props.match.path+"/settings",component:qa}),c.a.createElement(Je.b,{strict:!0,path:this.props.match.path+"/projects/:projectId",component:Da}),c.a.createElement(Je.b,{path:this.props.match.path,component:tt}))))}}]),t}(r.Component),Ya=Object(_e.c)(function(e){return{application:Qe(e),projects:Sa(e)}},Ga)(Ha),za=d.object().shape({name:d.string().matches(/^[a-z0-9]+$/,"Lowercase alphanumerics only. Spaces not allowed.").min(2,"Minimum 2 characters.").max(200,"Maximum 200 characters.").required("Required.")}),Xa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).keydownHandler=function(e){27===e.keyCode&&a.props.close()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler,!1)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{background:" rgba(0,0,0,.75)"},className:"fixed p-1 z-0 top-0 left-0 w-full h-full flex items-center justify-center bg-gray-100 text-sm"},c.a.createElement("div",{className:"bg-white p-3 w-full  max-w-xs"},c.a.createElement(f.c,{initialValues:{name:""},validationSchema:za,onSubmit:function(t,a){T(t.name).then(function(t){t.ok?t.json().then(function(t){e.props.getApp(),e.props.close()}):t.json().then(function(e){switch(e.message){case"name_invalid":a.setFieldError("name","Name is invalid.");break;case"workspace_taken":a.setFieldError("name","The name is already taken.")}})}),a.setSubmitting(!1)},render:function(t){return c.a.createElement(f.b,null,t.status&&t.status.msg&&c.a.createElement("div",null,t.status.msg),c.a.createElement("div",{className:"flex flex-col "},c.a.createElement("div",{className:"mb-2"}," Create workspace "),c.a.createElement("div",null,c.a.createElement(f.a,{name:"name",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-col"},c.a.createElement("div",{className:"flex flex-row items-center"},c.a.createElement("div",{className:"mr-1 font-bold  whitespace-no-wrap"},Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL,"  /"),c.a.createElement("div",null,c.a.createElement("input",Object.assign({autoFocus:!0,type:"text"},t,{placeholder:"Name",id:"name",className:"rounded p-2 border w-full\t"})))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.name&&a.errors.name))}})),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement("div",{className:"flex flex-row"},c.a.createElement("div",{className:"mr-1"},c.a.createElement(Ne,{submit:!0,title:"Create",primary:!0})),c.a.createElement("div",null,c.a.createElement(Ne,{title:"Cancel",handleOnClick:e.props.close}))))))}})))}}]),t}(r.Component),$a=Object(_e.c)(function(e){return{application:Qe(e)}},function(e){return{getApp:Fe(e),newMessage:Pe(e)}})(Xa),Qa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={showCreate:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.state.application.application;return c.a.createElement("div",null,c.a.createElement(Ye,{account:t.account}),this.state.showCreate?c.a.createElement($a,{close:function(){return e.setState({showCreate:!1})}}):null,c.a.createElement("div",null,c.a.createElement("div",{className:"p-2 flex flex-row mb-2 items-center"},c.a.createElement("div",null,c.a.createElement("h3",null,"Workspaces")),c.a.createElement("div",{className:"ml-2"}," ",c.a.createElement(Ne,{title:"New workspace",primary:!0,icon:"add",handleOnClick:function(){e.setState({showCreate:!0})}}))),c.a.createElement(Se,null,c.a.createElement("div",{className:""},t.workspaces&&t.workspaces.length>0?c.a.createElement("div",{className:"flex flex-col max-w-lg  "},c.a.createElement("div",{className:"p-2  "},t.workspaces.length,"  workspace(s)"),c.a.createElement("div",null,t.workspaces.map(function(e){return c.a.createElement("div",{className:"  p-2",key:e.id},c.a.createElement("div",{className:"mb-1"},c.a.createElement("p",null,c.a.createElement("b",null,c.a.createElement(ge.a,{className:"",to:"/"+e.name},e.name," "))),c.a.createElement("p",{className:"text-xs"},"Created ",c.a.createElement(da.a,{date:e.createdAt}),".  ")))}))):"No workspaces"))))}}]),t}(r.Component),Za=Object(_e.c)(function(e){return{state:e}},{})(Qa),en=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex p-2 text-xs justify-center"})}}]),t}(r.Component),tn={applicationReceived:Le},an=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;C().then(function(t){t.ok?t.json().then(function(t){e.props.applicationReceived(t),e.setState({loading:!1})}):e.props.history.push("/account/login")})}},{key:"render",value:function(){var e=this;return this.state.loading?c.a.createElement("div",{className:"p-2"},"Loading data..."):this.props.application.account?c.a.createElement("div",null,c.a.createElement(Je.d,null,c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"",render:function(){var t=e.props.application;return t.workspaces&&1===t.workspaces.length?c.a.createElement(Je.a,{to:t.workspaces[0].name}):c.a.createElement(Je.a,{to:e.props.match.path+"account/workspaces"})}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"account/workspaces",component:Za}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"account/settings",component:Xe}),c.a.createElement(Je.b,{path:this.props.match.path+"account/",component:tt}),c.a.createElement(Je.b,{path:this.props.match.path+":workspaceName",component:Ya}),c.a.createElement(Je.b,{path:this.props.match.path,component:tt})),c.a.createElement(en,null)):c.a.createElement(Je.a,{to:"/account/login"})}}]),t}(r.Component),nn=Object(_e.c)(function(e){return{application:e.application.application}},tn)(an),rn=d.object().shape({email:d.string().email("Email invalid.").required("Email required.")}),cn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={showSent:!1,email:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Aa.a.parse(this.props.location.search).email;e&&this.setState({email:e})}},{key:"render",value:function(){var e=this;return this.state.showSent?c.a.createElement("div",{className:"p-4 w-full justify-center"},c.a.createElement("em",null,"An email has been sent with further instructions on how to reset your password. ")," ",c.a.createElement("br",null),c.a.createElement("br",null),"Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap"),"   "):c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col  "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h1",{className:"text-3xl font-medium"},"Reset password"))),c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline text-center"},c.a.createElement("div",{className:"p-1 "},"Enter your ",c.a.createElement("b",null,"email")," below.",c.a.createElement("br",null)," An email with instructions on how to reset your password will be sent. ")),c.a.createElement("div",null,c.a.createElement(f.c,{initialValues:{email:this.state.email},enableReinitialize:!0,validationSchema:rn,onSubmit:function(t,a){R(t.email).then(function(t){e.setState({showSent:!0})}),a.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement(f.a,{name:"email",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"email"},t,{placeholder:"email",id:"password",className:"rounded p-2 border w-64 text-lg \t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.email&&a.errors.email&&a.errors.email)))}}),c.a.createElement("div",{className:"flex   flex-row items-baseline justify-center"},c.a.createElement(Ne,{submit:!0,primary:!0,title:"Reset password"})))}}))))}}]),t}(r.Component),sn=d.object().shape({password:d.string().min(6,"Password minimum 6 characters.").max(200,"Password maximum 200 characters.").required("Password required.")}),on=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={showDone:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.showDone?c.a.createElement("div",{className:"p-2"},c.a.createElement("em",null,"The password has been changed.")," ",c.a.createElement("br",null),c.a.createElement("br",null),"Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap")," "):c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-2xl w-full   items-center  flex-col  "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h1",{className:"text-3xl font-medium"},"Reset password"))),c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},"Enter your ",c.a.createElement("b",null,"new password")," below.")),c.a.createElement("div",null,c.a.createElement(f.c,{initialValues:{password:"",key:this.props.match.params.key},validationSchema:sn,onSubmit:function(t,a){L(t).then(function(t){t.ok?e.setState({showDone:!0}):t.json().then(function(e){switch(e.message){case"password_invalid":a.setFieldError("password","Password is invalid.")}})}),a.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement(f.a,{name:"password",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"password"},t,{placeholder:"password",id:"password",className:"rounded p-2 border w-64 text-lg \t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.password&&a.errors.password&&a.errors.password)))}}),c.a.createElement("div",{className:"flex   flex-row justify-center"},c.a.createElement(Ne,{submit:!0,primary:!0,title:"Change password"})))}}))))}}]),t}(r.Component),ln=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.application.messages.length>0?c.a.createElement("div",{className:"flex fixed w-full  justify-center p-5  z-0 top-0 left-0"},c.a.createElement("div",{className:"flex flex-col bg-gray-200 "},this.props.application.messages.map(function(e){return c.a.createElement("div",{className:"flex flex-row   p-1  items-center ",key:e.id},"success"===e.type&&c.a.createElement("div",{className:"mr-1"},c.a.createElement("i",{className:"material-icons text-green-500"},"done")," "),"fail"===e.type&&c.a.createElement("div",{className:"mr-1"},c.a.createElement("i",{className:"material-icons text-red"},"error")," "),c.a.createElement("div",{className:"flex  flex-grow"},e.message," "))}))):null}}]),t}(r.Component),un=Object(_e.c)(function(e){return{application:Qe(e)}},{})(ln),pn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={invite:void 0,notFound:!1,success:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;k(this.props.match.params.code).then(function(t){t.ok?t.json().then(function(t){e.setState({invite:t})}):e.setState({notFound:!0})})}},{key:"render",value:function(){var e=this;return this.state.notFound?c.a.createElement("div",{className:"p-2"}," Invitation not found. Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap"),". "):this.state.success?c.a.createElement("div",{className:"p-2"}," You are now a member of ",c.a.createElement("b",null," ",this.state.invite.workspaceName),"! Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap"),". "):this.state.invite?c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col  "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h1",{className:"text-3xl font-medium"},"Invitation to join workspace"))),c.a.createElement("p",null,"The workspace name is ",c.a.createElement("b",null,this.state.invite.workspaceName)," and you will join as ",c.a.createElement("b",null,Mt(this.state.invite.level)),"."),c.a.createElement("div",null,c.a.createElement(f.c,{initialValues:{},onSubmit:function(t,a){a.setStatus(""),x(e.props.match.params.code).then(function(t){t.ok?e.setState({success:!0}):t.json().then(function(e){a.setStatus(e.message)})}),a.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,c.a.createElement("div",{className:"p-2 font-bold  text-red"},e.status),c.a.createElement("div",{className:"flex  w-full text-lg justify-center "},c.a.createElement("div",null,c.a.createElement(Ne,{title:"Accept invite",primary:!0,submit:!0}))))}})),c.a.createElement("div",{className:"flex  p-2 flex-col "},c.a.createElement("div",{className:"p-1 text-center"},"Not a member? ",c.a.createElement(ge.a,{target:"_blank",className:"link",to:"/account/signup"},"Create an account"))))):c.a.createElement("div",null,"Loading")}}]),t}(r.Component),mn=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).close=function(){a.props.history.push("/link/"+a.props.match.params.key+(a.props.demo?"?demo=1":""))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=!this.props.demo;if(this.props.match.params.milestoneId){var t=aa(this.props.milestones,this.props.match.params.milestoneId);return c.a.createElement(Na,{demo:this.props.demo,viewOnly:e,entity:t,url:this.props.match.url,close:this.close})}if(this.props.match.params.subWorkflowId){var a=St(this.props.subWorkflows,this.props.match.params.subWorkflowId);return c.a.createElement(Na,{demo:this.props.demo,viewOnly:e,entity:a,url:this.props.match.url,close:this.close})}if(this.props.match.params.workflowId){var n=sa(this.props.workflows,this.props.match.params.workflowId);return c.a.createElement(Na,{demo:this.props.demo,viewOnly:e,entity:n,url:this.props.match.url,close:this.close})}if(this.props.match.params.featureId){var r=Bt(this.props.features,this.props.match.params.featureId);return c.a.createElement(Na,{demo:this.props.demo,viewOnly:e,entity:r,url:this.props.match.url,close:this.close})}if(this.props.match.params.projectId2){var s=Ta(this.props.projects,this.props.match.params.projectId2);return c.a.createElement(Na,{demo:this.props.demo,viewOnly:e,entity:s,url:this.props.match.url,close:this.close})}}}]),t}(r.Component),dn=Object(_e.c)(function(e){return{application:Qe(e),milestones:ea(e),subWorkflows:gt(e),workflows:ra(e),features:Pt(e),projects:Sa(e)}},{})(mn),fn={loadProjects:la,loadMilestones:pt,loadWorkflows:Et,loadSubWorkflows:kt,loadFeatures:st},hn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,projectId:void 0,showClosedMilestones:!1,demo:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;"1"===Aa.a.parse(this.props.location.search).demo&&this.setState({demo:!0}),O(this.props.match.params.key).then(function(t){t.ok?t.json().then(function(t){e.props.loadProjects([t.project]),e.props.loadFeatures(t.features),e.props.loadMilestones(t.milestones),e.props.loadWorkflows(t.workflows),e.props.loadSubWorkflows(t.subWorkflows),e.setState({projectId:t.project.id}),e.setState({loading:!1})}):e.setState({loading:!1})})}},{key:"render",value:function(){var e=this;if(this.state.loading)return c.a.createElement("div",{className:"p-2"},"Loading data...");if(this.state.projectId){var t=Ta(this.props.projects,this.state.projectId);return c.a.createElement("div",null,c.a.createElement("header",{className:"text-black"},c.a.createElement("div",{className:"flex items-center p-1 bg-gray-200"},c.a.createElement("div",{className:"flex text-lg mt-2 mb-2   m-1 w-24 "},c.a.createElement("b",null,c.a.createElement(ge.a,{to:"/"},"Featmap"))))),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"flex flex-row p-2 "},c.a.createElement("div",{className:"flex flex-grow m-1 text-xl items-center"},c.a.createElement("div",{className:"flex"},c.a.createElement("span",{className:"font-semibold"},t.title,"  ")),c.a.createElement("div",{className:"flex ml-2"},c.a.createElement("span",{className:"font-semibold p-1 bg-gray-200 text-xs "}," VIEW ONLY  ")),this.state.demo&&c.a.createElement("div",{className:"flex ml-2"},c.a.createElement("span",{className:"font-semibold p-1 bg-pink-400 text-xs text-white "}," DEMO MODE  "))),c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{className:" flex items-center  text-sm"},c.a.createElement("div",null,this.state.showClosedMilestones?c.a.createElement(Ne,{iconColor:"text-green-500-500",icon:"toggle_on",title:"Show closed milestones",handleOnClick:function(){return e.setState({showClosedMilestones:!1})}}):c.a.createElement(Ne,{icon:"toggle_off ",title:"Show closed milestones",handleOnClick:function(){return e.setState({showClosedMilestones:!0})}}))),c.a.createElement("div",{className:"ml-4"},c.a.createElement(ge.a,{to:this.props.match.url+"/p/"+this.state.projectId},c.a.createElement("i",{className:"material-icons text-gray-600"},"settings"))))),c.a.createElement("div",{className:"mt-2"},c.a.createElement(Zt,{showClosedMilstones:this.state.showClosedMilestones,viewOnly:!0,url:this.props.match.url,features:this.props.features,workflows:oa(this.props.workflows,t.id),subWorkflows:this.props.subWorkflows,milestones:na(this.props.milestones,t.id),projectId:t.id,workspaceId:t.workspaceId,demo:this.state.demo}))),c.a.createElement(Je.d,null,c.a.createElement(Je.b,{exact:!0,path:"/",component:function(){return null}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/m/:milestoneId",render:function(t){return c.a.createElement(dn,Object.assign({},t,{demo:e.state.demo}))}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/sw/:subWorkflowId",render:function(t){return c.a.createElement(dn,Object.assign({},t,{demo:e.state.demo}))}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/f/:featureId",render:function(t){return c.a.createElement(dn,Object.assign({},t,{demo:e.state.demo}))}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/w/:workflowId",render:function(t){return c.a.createElement(dn,Object.assign({},t,{demo:e.state.demo}))}}),c.a.createElement(Je.b,{exact:!0,path:this.props.match.path+"/p/:projectId2",render:function(t){return c.a.createElement(dn,Object.assign({},t,{demo:e.state.demo}))}})))}return c.a.createElement("div",{className:"p-2"},"Project not found. ")}}]),t}(r.Component),En=Object(_e.c)(function(e){return{application:e.application.application,features:Pt(e),projects:Sa(e),milestones:ea(e),workflows:ra(e),subWorkflows:gt(e)}},fn)(hn),bn=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={sent:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col   "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h1",{className:"text-3xl font-medium"},"Contact the Featmap team"))),this.state.sent?c.a.createElement("div",null,c.a.createElement("p",null,"Thank you for your message, we will get back to you shortly!"),c.a.createElement("p",null,"Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap"))):c.a.createElement("div",null,c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},"Specify a ",c.a.createElement("b",null,"topic"),",  ",c.a.createElement("b",null,"message")," and your ",c.a.createElement("b",null,"email adress"),".")),c.a.createElement("div",{className:"mt-2 w-full"},c.a.createElement(f.c,{initialValues:{topic:"general",body:"",sender:""},validationSchema:d.object().shape({body:d.string().min(1,"Minimum 1 characters.").max(1e4,"Maximum 10000 characters.").required("Required."),sender:d.string().email("Invalid email adress.").required("Required.")}),onSubmit:function(t,a){je(t).then(function(t){t.ok?e.setState({sent:!0}):t.json().then(function(e){switch(e.message){case"email invalid":a.setFieldError("sender",e.message);break;case"message too short":case"message too long":a.setFieldError("body",e.message)}})}),a.setSubmitting(!1)},render:function(e){return c.a.createElement(f.b,null,e.status&&e.status.msg&&c.a.createElement("div",null,e.status.msg),c.a.createElement("div",{className:"mb-3"},c.a.createElement(f.a,{name:"topic",component:"select",className:"rounded p-2 border w-full text-lg    "},c.a.createElement("option",{value:"general"},"General "),c.a.createElement("option",{value:"sales"},"Sales"),c.a.createElement("option",{value:"support"},"Support"))),c.a.createElement(f.a,{name:"body",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:" flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({autoFocus:!0,rows:20},t,{placeholder:"Message",id:"body",className:"rounded p-2  border w-full  \t"}))),c.a.createElement("div",{className:"m-1 text-red-500 text-xs font-bold"},a.touched.body&&a.errors.body&&a.errors.body)))}}),c.a.createElement(f.a,{name:"sender",render:function(e){var t=e.field,a=e.form;return c.a.createElement("div",{className:"flex  flex-row items-baseline"},c.a.createElement("div",{className:"flex flex-col w-full"},c.a.createElement("div",null,c.a.createElement("input",Object.assign({type:"text"},t,{placeholder:"Your email adress",id:"sender",className:"rounded p-2 border w-full text-lg\t"}))),c.a.createElement("div",{className:"p-1 text-red-500 text-xs font-bold"},a.touched.sender&&a.errors.sender&&a.errors.sender)))}}),c.a.createElement("div",{className:"flex justify-center"},c.a.createElement(Ne,{submit:!0,primary:!0,title:"Send message"})))}})))))}}]),t}(r.Component),wn=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},c.a.createElement("h2",null,c.a.createElement("i",{className:"material-icons text-3xl text-green-500"},"check")," Subscription change successful!")),c.a.createElement("div",{className:"p-1 "},"Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap"),"."))))}}]),t}(r.Component),vn=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"flex p-2  w-full  justify-center items-center flex-col "},c.a.createElement("div",{className:"flex  p-3  max-w-xl w-full   items-center  flex-col   "},c.a.createElement("div",{className:"flex  p-2 flex-col items-baseline"},c.a.createElement("div",{className:"p-1 "},"  ",c.a.createElement("h2",null," ",c.a.createElement("i",{className:"material-icons text-3xl text-red"},"error")," Something went wrong")),c.a.createElement("div",{className:"p-1 "},"Please try again or contact ",c.a.createElement(ge.a,{className:"link",to:"/contact"},"support"),"."),c.a.createElement("div",{className:"p-1 "},"Back to ",c.a.createElement(ge.a,{className:"link",to:"/"},"Featmap"),"."))))}}]),t}(r.Component),On=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"main"},c.a.createElement(Je.d,null,c.a.createElement(Je.b,{path:"/link/:key",component:En}),c.a.createElement(Je.b,{exact:!0,path:"/account/success",component:wn}),c.a.createElement(Je.b,{exact:!0,path:"/account/cancel",component:vn}),c.a.createElement(Je.b,{exact:!0,path:"/account/contact",component:bn}),c.a.createElement(Je.b,{exact:!0,path:"/account/logout",component:Ke}),c.a.createElement(Je.b,{exact:!0,path:"/account/signup",component:Ce}),c.a.createElement(Je.b,{exact:!0,path:"/account/login",component:Te}),c.a.createElement(Je.b,{exact:!0,path:"/account/reset",component:cn}),c.a.createElement(Je.b,{exact:!0,path:"/account/reset/:key",component:on}),c.a.createElement(Je.b,{exact:!0,path:"/account/invitation/:code",component:pn}),c.a.createElement(Je.b,{path:"/account/verify/:key",component:Ve}),c.a.createElement(Je.b,{path:"/",component:nn})),c.a.createElement(un,null))}}]),t}(r.Component),xn=Object(_e.c)(function(e){return{application:Qe(e)}},null)(On);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kn=a(21),yn=a(18),jn=a(177),gn=a(24),Nn={items:[]};function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.CREATE_PROJECT:var a=t.payload;return a.kind="project",Object(at.a)({},e,{items:[].concat(Object(gn.a)(e.items),[a])});case Vt.LOAD_PROJECTS:var n=t.payload.map(function(e){return Object(at.a)({},e,{kind:"project"})});return Object(at.a)({},e,{items:n});case Vt.UPDATE_PROJECT:var r=t.payload;return r.kind="project",Object(at.a)({},e,{items:e.items.map(function(e){return e.id===r.id?r:e})});case Vt.DELETE_PROJECT:var c=t.payload;return Object(at.a)({},e,{items:e.items.filter(function(e){return e.id!==c})});default:return e}}var In=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tn=In[0],Wn=In[In.length-1],Cn=function(e,t){""===e&&(e=Tn),""===t&&(t=Wn);for(var a="",n=0;;){var r=An(e,n,Tn),c=An(t,n,Wn);if(r!==c){var s=Mn(r,c);if(s!==r&&s!==c){a+=s;break}a+=r,n++}else a+=r,n++}return a>=t?{rank:e,rebalance:!0}:{rank:a,rebalance:!1}},Mn=function(e,t){var a=In.findIndex(function(t){return t===e}),n=In.findIndex(function(e){return e===t});return In[Math.floor((a+n)/2)]},An=function(e,t,a){return t>=e.length?a:e[t]},Rn={items:[]};function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re.CREATE_FEATURE:var a=t.payload,n=Ft(_t(e.items,a.milestoneId,a.subWorkflowId));return a.rank=0===n.length?Cn("","").rank:Cn(n[n.length-1].rank,"").rank,Object(at.a)({},e,{items:[].concat(Object(gn.a)(e.items),[a])});case Re.LOAD_FEATURES:var r=t.payload.map(function(e){return Object(at.a)({},e,{kind:"feature"})});return Object(at.a)({},e,{items:r});case Re.UPDATE_FEATURE:var c=t.payload;return c.kind="feature",Object(at.a)({},e,{items:e.items.map(function(e){return e.id===c.id?c:e})});case Re.DELETE_FEATURE:var s=t.payload;return Object(at.a)({},e,{items:e.items.filter(function(e){return e.id!==s})});case Re.MOVE_FEATURE:var o=t.payload,i=o.id,l=o.toMilestoneId,u=o.toSubWorkflowId,p=o.index,m=o.ts,d=o.by,f=Bt(e.items,i),h=Ft(_t(e.items,l,u));f.milestoneId===l&&f.subWorkflowId===u&&(h=h.filter(function(e){return e.id!==f.id}));var E=void 0===h[p-1]?"":h[p-1].rank,b=void 0===h[p]?"":h[p].rank;return f.milestoneId=l,f.subWorkflowId=u,f.rank=Cn(E,b).rank,f.lastModified=m,f.lastModifiedByName=d,Object(at.a)({},e,{items:e.items.map(function(e){return e.id===f.id?f:e})});default:return e}}var Dn={items:[]};function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt.CREATE_WORKFLOW:var a=t.payload,n=ca(oa(e.items,a.projectId));return a.rank=0===n.length?Cn("","").rank:Cn(n[n.length-1].rank,"").rank,Object(at.a)({},e,{items:[].concat(Object(gn.a)(e.items),[a])});case lt.LOAD_WORKFLOWS:var r=t.payload.map(function(e){return Object(at.a)({},e,{kind:"workflow"})});return Object(at.a)({},e,{items:r});case lt.UPDATE_WORKFLOW:var c=t.payload;return c.kind="workflow",Object(at.a)({},e,{items:e.items.map(function(e){return e.id===c.id?c:e})});case lt.DELETE_WORKFLOW:var s=t.payload;return Object(at.a)({},e,{items:e.items.filter(function(e){return e.id!==s})});case lt.MOVE_WORKFLOW:var o=t.payload,i=sa(e.items,o.id),l=ca(oa(e.items,i.projectId)).filter(function(e){return e.id!==i.id}),u=void 0===l[o.index-1]?"":l[o.index-1].rank,p=void 0===l[o.index]?"":l[o.index].rank;return i.rank=Cn(u,p).rank,i.lastModified=o.ts,i.lastModifiedByName=o.ts,Object(at.a)({},e,{items:e.items.map(function(e){return e.id===i.id?i:e})});default:return e}}var Fn={items:[]};function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft.CREATE_SUBWORKFLOW:var a=t.payload,n=Nt(It(e.items,a.workflowId));return a.rank=0===n.length?Cn("","").rank:Cn(n[n.length-1].rank,"").rank,Object(at.a)({},e,{items:[].concat(Object(gn.a)(e.items),[a])});case ft.LOAD_SUBWORKFLOWS:var r=t.payload.map(function(e){return Object(at.a)({},e,{kind:"subworkflow"})});return Object(at.a)({},e,{items:r});case ft.UPDATE_SUBWORKFLOW:var c=t.payload;return c.kind="subworkflow",Object(at.a)({},e,{items:e.items.map(function(e){return e.id===c.id?c:e})});case ft.DELETE_SUBWORKFLOW:var s=t.payload;return Object(at.a)({},e,{items:e.items.filter(function(e){return e.id!==s})});case ft.MOVE_SUBWORKFLOW:var o=t.payload,i=St(e.items,o.id),l=Nt(It(e.items,o.toWorkflowId)).filter(function(e){return e.id!==i.id}),u=void 0===l[o.index-1]?"":l[o.index-1].rank,p=void 0===l[o.index]?"":l[o.index].rank;return i.rank=Cn(u,p).rank,i.workflowId=o.toWorkflowId,i.lastModified=o.ts,i.lastModifiedByName=o.ts,Object(at.a)({},e,{items:e.items.map(function(e){return e.id===i.id?i:e})});default:return e}}var Un={items:[]};function Bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt.CREATE_MILESTONE:var a=t.payload,n=ta(na(e.items,a.projectId));return a.rank=0===n.length?Cn("","").rank:Cn(n[n.length-1].rank,"").rank,Object(at.a)({},e,{items:[].concat(Object(gn.a)(e.items),[a])});case rt.LOAD_MILESTONES:var r=t.payload.map(function(e){return Object(at.a)({},e,{kind:"milestone"})});return Object(at.a)({},e,{items:r});case rt.UPDATE_MILESTONE:var c=t.payload;return c.kind="milestone",Object(at.a)({},e,{items:e.items.map(function(e){return e.id===c.id?c:e})});case rt.DELETE_MILESTONE:var s=t.payload;return Object(at.a)({},e,{items:e.items.filter(function(e){return e.id!==s})});case rt.MOVE_MILESTONE:var o=t.payload,i=aa(e.items,o.id),l=ta(na(e.items,i.projectId)).filter(function(e){return e.id!==i.id}),u=void 0===l[o.index-1]?"":l[o.index-1].rank,p=void 0===l[o.index]?"":l[o.index].rank;return i.rank=Cn(u,p).rank,i.lastModified=o.ts,i.lastModifiedByName=o.by,Object(at.a)({},e,{items:e.items.map(function(e){return e.id===i.id?i:e})});default:return e}}var Kn={application:{workspaces:[],memberships:[],messages:[],subscriptions:[]}};function Vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.LOAD_APPLICATION:var a=t.payload;return a.messages=[],Object(at.a)({},e,{application:a});case n.RESET_APPLICATION:return Object(at.a)({},e,{application:Kn.application});case n.CREATE_MESSAGE:var r=t.payload;return Object(at.a)({},e,{application:Object(at.a)({},e.application,{messages:[].concat(Object(gn.a)(e.application.messages),[r])})});case n.DELETE_MESSAGE:var c=t.payload;return Object(at.a)({},e,{application:Object(at.a)({},e.application,{messages:e.application.messages.filter(function(e){return e.id!==c})})});default:return e}}var Jn=a(111),qn=function(e){return Object(yn.c)({projects:Sn,features:Ln,workflows:Pn,subWorkflows:_n,milestones:Bn,application:Vn,router:Object(Jn.a)(e)})},Gn=Object(kn.a)();var Hn,Yn=(window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__()(yn.e):yn.e)(qn(Gn),Hn,Object(yn.d)(Object(yn.a)(Object(jn.a)(Gn))));o.a.render(c.a.createElement(_e.a,{store:Yn},c.a.createElement(Je.c,{history:Gn},c.a.createElement(xn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[186,1,2]]]);
//# sourceMappingURL=main.ec8c08d8.chunk.js.map